import{__awaiter as r}from"tslib";class e{constructor(){this.compress=e=>r(this,[e],void 0,(function*({blob:r,quality:e,targetWidth:n,targetHeight:t}){return new Promise(((o,a)=>{const i=new Worker(new URL("./compressor.worker.js?worker",import.meta.url),{type:"module"});i.onmessage=r=>{r.data.success||(console.error(r.data),a(new Error(r.data.error))),o(r.data)},i.onerror=r=>{a(r)},i.postMessage({blob:r,quality:e,targetWidth:n,targetHeight:t})}))}))}}var n;!function(r){r.gif="gif",r.heic="heic",r.heif="heif",r.webp="webp",r.jpeg="jpeg",r.png="png",r.bmp="bmp",r.avif="avif"}(n||(n={}));const t={cqLevel:33,cqAlphaLevel:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0};function o(r,e,n={}){return r({noInitialRun:!0,instantiateWasm:undefined,...n})}const a=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),i=()=>(async r=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(r)}catch(r){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));let u;const c=()=>"undefined"!=typeof process&&process.release&&"node"===process.release.name,s=()=>{var r;return void 0!==(null===(r=globalThis.caches)||void 0===r?void 0:r.default)};async function f(r,e={}){u||(u=async function(r,e){if(!c()&&!s()&&await i()){const r=await Promise.resolve().then((function(){return R}));return u=o(r.default,0,e),u}const n=await Promise.resolve().then((function(){return F}));return u=o(n.default,0,e),u}());const n=await u,a={...t,...e},f=n.encode(r.data,r.width,r.height,a);if(!f)throw new Error("Encoding error.");return f.buffer}var l,d=(l=import.meta.url,function(r){var e,n;(r=void 0!==(r=r||{})?r:{}).ready=new Promise((function(r,t){e=r,n=t}));var t,o={};for(t in r)r.hasOwnProperty(t)&&(o[t]=r[t]);var a=!1,i=!1;a="object"==typeof window,i="function"==typeof importScripts,"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var u,c="";(a||i)&&(i?c=self.location.href:"undefined"!=typeof document&&document.currentScript&&(c=document.currentScript.src),l&&(c=l),c=0!==c.indexOf("blob:")?c.substr(0,c.lastIndexOf("/")+1):"",i&&(u=function(r){var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var s=r.print||console.log.bind(console),f=r.printErr||console.warn.bind(console);for(t in o)o.hasOwnProperty(t)&&(r[t]=o[t]);o=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var d,p,h=0;r.wasmBinary&&(d=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&M("no native wasm support detected");var v,m,g,y,w,b,_,E,T,A,C=!1;function k(r,e,n){for(var t=e+n,o="";!(e>=t);){var a=r[e++];if(!a)return o;if(128&a){var i=63&r[e++];if(192!=(224&a)){var u=63&r[e++];if((a=224==(240&a)?(15&a)<<12|i<<6|u:(7&a)<<18|i<<12|u<<6|63&r[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o}function $(r,e){return r?k(g,r,e):""}function P(r,e){for(var n="",t=0;!(t>=e/2);++t){var o=y[r+2*t>>1];if(0==o)break;n+=String.fromCharCode(o)}return n}function W(r,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var t=e,o=(n-=2)<2*r.length?n/2:r.length,a=0;a<o;++a){var i=r.charCodeAt(a);y[e>>1]=i,e+=2}return y[e>>1]=0,e-t}function S(r){return 2*r.length}function R(r,e){for(var n=0,t="";!(n>=e/4);){var o=b[r+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;t+=String.fromCharCode(55296|a>>10,56320|1023&a)}else t+=String.fromCharCode(o)}return t}function j(r,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var t=e,o=t+n-4,a=0;a<r.length;++a){var i=r.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&r.charCodeAt(++a)),b[e>>2]=i,(e+=4)+4>o)break}return b[e>>2]=0,e-t}function O(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&++n,e+=4}return e}function I(e){v=e,r.HEAP8=m=new Int8Array(e),r.HEAP16=y=new Int16Array(e),r.HEAP32=b=new Int32Array(e),r.HEAPU8=g=new Uint8Array(e),r.HEAPU16=w=new Uint16Array(e),r.HEAPU32=_=new Uint32Array(e),r.HEAPF32=E=new Float32Array(e),r.HEAPF64=T=new Float64Array(e)}r.INITIAL_MEMORY;var F=[],x=[],U=[],D=0,N=null;function M(e){r.onAbort&&r.onAbort(e),f(e+=""),C=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}r.preloadedImages={},r.preloadedAudios={};var L,H="data:application/octet-stream;base64,";function B(r){return r.startsWith(H)}if(r.locateFile)B(V="avif_dec.wasm")||(L=V,V=r.locateFile?r.locateFile(L,c):c+L);else var V=new URL("avif_dec.wasm",import.meta.url).toString();function z(r){try{if(r==V&&d)return new Uint8Array(d);if(u)return u(r);throw"both async and sync fetching of the wasm failed"}catch(r){M(r)}}function G(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?A.get(t)():A.get(t)(n.arg):t(void 0===n.arg?null:n.arg)}else n(r)}}function q(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}var K=void 0;function Q(r){for(var e="",n=r;g[n];)e+=K[g[n++]];return e}var X={},Y={},Z={},J=48,rr=57;function er(r,e){return r=function(r){if(void 0===r)return"_unknown";var e=(r=r.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=J&&e<=rr?"_"+r:r}(r),function(){return e.apply(this,arguments)}}function nr(r,e){var n=er(e,(function(r){this.name=e,this.message=r;var n=new Error(r).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var tr=void 0;function or(r){throw new tr(r)}var ar=void 0;function ir(r){throw new ar(r)}function ur(r,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=e.name;if(r||or('type "'+t+'" must have a positive integer typeid pointer'),Y.hasOwnProperty(r)){if(n.ignoreDuplicateRegistrations)return;or("Cannot register type '"+t+"' twice")}if(Y[r]=e,delete Z[r],X.hasOwnProperty(r)){var o=X[r];delete X[r],o.forEach((function(r){r()}))}}var cr=[],sr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function fr(r){r>4&&0==--sr[r].refcount&&(sr[r]=void 0,cr.push(r))}function lr(){for(var r=0,e=5;e<sr.length;++e)void 0!==sr[e]&&++r;return r}function dr(){for(var r=5;r<sr.length;++r)if(void 0!==sr[r])return sr[r];return null}function pr(r){switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=cr.length?cr.pop():sr.length;return sr[e]={refcount:1,value:r},e}}function hr(r){return this.fromWireType(_[r>>2])}function vr(r){if(null===r)return"null";var e=typeof r;return"object"===e||"array"===e||"function"===e?r.toString():""+r}function mr(r,e){switch(e){case 2:return function(r){return this.fromWireType(E[r>>2])};case 3:return function(r){return this.fromWireType(T[r>>3])};default:throw new TypeError("Unknown float type: "+r)}}function gr(e,n,t){r.hasOwnProperty(e)?((void 0===t||void 0!==r[e].overloadTable&&void 0!==r[e].overloadTable[t])&&or("Cannot register public name '"+e+"' twice"),function(r,e,n){if(void 0===r[e].overloadTable){var t=r[e];r[e]=function(){return r[e].overloadTable.hasOwnProperty(arguments.length)||or("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[e].overloadTable+")!"),r[e].overloadTable[arguments.length].apply(this,arguments)},r[e].overloadTable=[],r[e].overloadTable[t.argCount]=t}}(r,e,e),r.hasOwnProperty(t)&&or("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),r[e].overloadTable[t]=n):(r[e]=n,void 0!==t&&(r[e].numArguments=t))}function yr(e,n,t){return e.includes("j")?function(e,n,t){var o=r["dynCall_"+e];return t&&t.length?o.apply(null,[n].concat(t)):o.call(null,n)}(e,n,t):A.get(n).apply(null,t)}function wr(r,e){var n,t,o,a=(r=Q(r)).includes("j")?(n=r,t=e,o=[],function(){o.length=arguments.length;for(var r=0;r<arguments.length;r++)o[r]=arguments[r];return yr(n,t,o)}):A.get(e);return"function"!=typeof a&&or("unknown function pointer with signature "+r+": "+e),a}var br=void 0;function _r(r){var e=Rr(r),n=Q(e);return Sr(e),n}function Er(r,e,n){switch(e){case 0:return n?function(r){return m[r]}:function(r){return g[r]};case 1:return n?function(r){return y[r>>1]}:function(r){return w[r>>1]};case 2:return n?function(r){return b[r>>2]}:function(r){return _[r>>2]};default:throw new TypeError("Unknown integer type: "+r)}}var Tr={};function Ar(){if("object"==typeof globalThis)return globalThis;function r(r){r.$$$embind_global$$$=r;var e="object"==typeof $$$embind_global$$$&&r.$$$embind_global$$$===r;return e||delete r.$$$embind_global$$$,e}if("object"==typeof $$$embind_global$$$)return $$$embind_global$$$;if("object"==typeof global&&r(global)?$$$embind_global$$$=global:"object"==typeof self&&r(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$)return $$$embind_global$$$;throw Error("unable to get global object.")}var Cr={};function kr(r){try{return p.grow(r-v.byteLength+65535>>>16),I(p.buffer),1}catch(r){}}var $r={mappings:{},buffers:[null,[],[]],printChar:function(r,e){var n=$r.buffers[r];0===e||10===e?((1===r?s:f)(k(n,0)),n.length=0):n.push(e)},varargs:void 0,get:function(){return $r.varargs+=4,b[$r.varargs-4>>2]},getStr:function(r){return $(r)},get64:function(r,e){return r}};!function(){for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);K=r}(),tr=r.BindingError=nr(Error,"BindingError"),ar=r.InternalError=nr(Error,"InternalError"),r.count_emval_handles=lr,r.get_first_emval=dr,br=r.UnboundTypeError=nr(Error,"UnboundTypeError");var Pr={j:function(r,e){},v:function(r,e,n,t,o){},r:function(r,e,n,t,o){var a=q(n);ur(r,{name:e=Q(e),fromWireType:function(r){return!!r},toWireType:function(r,e){return e?t:o},argPackAdvance:8,readValueFromPointer:function(r){var t;if(1===n)t=m;else if(2===n)t=y;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);t=b}return this.fromWireType(t[r>>a])},destructorFunction:null})},B:function(r,e){ur(r,{name:e=Q(e),fromWireType:function(r){var e=sr[r].value;return fr(r),e},toWireType:function(r,e){return pr(e)},argPackAdvance:8,readValueFromPointer:hr,destructorFunction:null})},q:function(r,e,n){var t=q(n);ur(r,{name:e=Q(e),fromWireType:function(r){return r},toWireType:function(r,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+vr(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:mr(e,t),destructorFunction:null})},t:function(e,n,t,o,a,i){var u=function(r,e){for(var n=[],t=0;t<r;t++)n.push(b[(e>>2)+t]);return n}(n,t);e=Q(e),a=wr(o,a),gr(e,(function(){!function(r,e){var n=[],t={};throw e.forEach((function r(e){t[e]||Y[e]||(Z[e]?Z[e].forEach(r):(n.push(e),t[e]=!0))})),new br(r+": "+n.map(_r).join([", "]))}("Cannot call "+e+" due to unbound types",u)}),n-1),function(r,e,n){function t(e){var t=n(e);t.length!==r.length&&ir("Mismatched type converter count");for(var o=0;o<r.length;++o)ur(r[o],t[o])}r.forEach((function(r){Z[r]=e}));var o=new Array(e.length),a=[],i=0;e.forEach((function(r,e){Y.hasOwnProperty(r)?o[e]=Y[r]:(a.push(r),X.hasOwnProperty(r)||(X[r]=[]),X[r].push((function(){o[e]=Y[r],++i===a.length&&t(o)})))})),0===a.length&&t(o)}([],u,(function(t){var o=[t[0],null].concat(t.slice(1));return function(e,n,t){r.hasOwnProperty(e)||ir("Replacing nonexistant public symbol"),void 0!==r[e].overloadTable&&void 0!==t?r[e].overloadTable[t]=n:(r[e]=n,r[e].argCount=t)}(e,function(r,e,n,t,o){var a=e.length;a<2&&or("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==e[1]&&null!==n,u=!1,c=1;c<e.length;++c)if(null!==e[c]&&void 0===e[c].destructorFunction){u=!0;break}var s="void"!==e[0].name,f=a-2,l=new Array(f),d=[],p=[];return function(){var n;arguments.length!==f&&or("function "+r+" called with "+arguments.length+" arguments, expected "+f+" args!"),p.length=0,d.length=i?2:1,d[0]=o,i&&(n=e[1].toWireType(p,this),d[1]=n);for(var a=0;a<f;++a)l[a]=e[a+2].toWireType(p,arguments[a]),d.push(l[a]);var c=t.apply(null,d);if(u)!function(r){for(;r.length;){var e=r.pop();r.pop()(e)}}(p);else for(a=i?1:2;a<e.length;a++){var h=1===a?n:l[a-2];null!==e[a].destructorFunction&&e[a].destructorFunction(h)}if(s)return e[0].fromWireType(c)}}(e,o,null,a,i),n-1),[]}))},e:function(r,e,n,t,o){e=Q(e),-1===o&&(o=4294967295);var a=q(n),i=function(r){return r};if(0===t){var u=32-8*n;i=function(r){return r<<u>>>u}}var c=e.includes("unsigned");ur(r,{name:e,fromWireType:i,toWireType:function(r,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+vr(n)+'" to '+this.name);if(n<t||n>o)throw new TypeError('Passing a number "'+vr(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+t+", "+o+"]!");return c?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:Er(e,a,0!==t),destructorFunction:null})},d:function(r,e,n){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(r){var e=_,n=e[r>>=2],o=e[r+1];return new t(v,o,n)}ur(r,{name:n=Q(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},m:function(r,e){var n="std::string"===(e=Q(e));ur(r,{name:e,fromWireType:function(r){var e,t=_[r>>2];if(n)for(var o=r+4,a=0;a<=t;++a){var i=r+4+a;if(a==t||0==g[i]){var u=$(o,i-o);void 0===e?e=u:(e+=String.fromCharCode(0),e+=u),o=i+1}}else{var c=new Array(t);for(a=0;a<t;++a)c[a]=String.fromCharCode(g[r+4+a]);e=c.join("")}return Sr(r),e},toWireType:function(r,e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||or("Cannot pass non-string to std::string"),t=n&&o?function(){return function(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&r.charCodeAt(++n)),t<=127?++e:e+=t<=2047?2:t<=65535?3:4}return e}(e)}:function(){return e.length};var a=t(),i=Wr(4+a+1);if(_[i>>2]=a,n&&o)!function(r,e,n,t){if(!(t>0))return 0;for(var o=n+t-1,a=0;a<r.length;++a){var i=r.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&r.charCodeAt(++a)),i<=127){if(n>=o)break;e[n++]=i}else if(i<=2047){if(n+1>=o)break;e[n++]=192|i>>6,e[n++]=128|63&i}else if(i<=65535){if(n+2>=o)break;e[n++]=224|i>>12,e[n++]=128|i>>6&63,e[n++]=128|63&i}else{if(n+3>=o)break;e[n++]=240|i>>18,e[n++]=128|i>>12&63,e[n++]=128|i>>6&63,e[n++]=128|63&i}}e[n]=0}(e,g,i+4,a+1);else if(o)for(var u=0;u<a;++u){var c=e.charCodeAt(u);c>255&&(Sr(i),or("String has UTF-16 code units that do not fit in 8 bits")),g[i+4+u]=c}else for(u=0;u<a;++u)g[i+4+u]=e[u];return null!==r&&r.push(Sr,i),i},argPackAdvance:8,readValueFromPointer:hr,destructorFunction:function(r){Sr(r)}})},l:function(r,e,n){var t,o,a,i,u;n=Q(n),2===e?(t=P,o=W,i=S,a=function(){return w},u=1):4===e&&(t=R,o=j,i=O,a=function(){return _},u=2),ur(r,{name:n,fromWireType:function(r){for(var n,o=_[r>>2],i=a(),c=r+4,s=0;s<=o;++s){var f=r+4+s*e;if(s==o||0==i[f>>u]){var l=t(c,f-c);void 0===n?n=l:(n+=String.fromCharCode(0),n+=l),c=f+e}}return Sr(r),n},toWireType:function(r,t){"string"!=typeof t&&or("Cannot pass non-string to C++ string type "+n);var a=i(t),c=Wr(4+a+e);return _[c>>2]=a>>u,o(t,c+4,a+e),null!==r&&r.push(Sr,c),c},argPackAdvance:8,readValueFromPointer:hr,destructorFunction:function(r){Sr(r)}})},s:function(r,e){ur(r,{isVoid:!0,name:e=Q(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(r,e){}})},h:fr,i:function(r){return 0===r?pr(Ar()):(r=void 0===(n=Tr[e=r])?Q(e):n,pr(Ar()[r]));var e,n},n:function(r){r>4&&(sr[r].refcount+=1)},o:function(r,e,n,t){r=function(r){return r||or("Cannot use deleted val. handle = "+r),sr[r].value}(r);var o=Cr[e];return o||(o=function(r){var e=new Array(r+1);return function(n,t,o){e[0]=n;for(var a=0;a<r;++a){var i=(u=b[(t>>2)+a],c="parameter "+a,s=void 0,void 0===(s=Y[u])&&or(c+" has unknown type "+_r(u)),s);e[a+1]=i.readValueFromPointer(o),o+=i.argPackAdvance}var u,c,s;return pr(new(n.bind.apply(n,e)))}}(e),Cr[e]=o),o(r,n,t)},a:function(){M()},g:function(r,e){return function(r,e){throw Fr(r,e||1),"longjmp"}(r,e)},y:function(r,e,n){g.copyWithin(r,e,e+n)},k:function(r){var e,n,t=g.length,o=2147483648;if((r>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=t*(1+.2/a);if(i=Math.min(i,r+100663296),kr(Math.min(o,((e=Math.max(r,i))%(n=65536)>0&&(e+=n-e%n),e))))return!0}return!1},z:function(r){return 0},u:function(r,e,n,t,o){},A:function(r,e,n,t){for(var o=0,a=0;a<n;a++){for(var i=b[e+8*a>>2],u=b[e+(8*a+4)>>2],c=0;c<u;c++)$r.printChar(r,g[i+c]);o+=u}return b[t>>2]=o,0},b:function(){return h},f:function(r,e,n){var t=Or();try{return A.get(r)(e,n)}catch(r){if(Ir(t),r!==r+0&&"longjmp"!==r)throw r;Fr(1,0)}},w:function(r,e,n,t,o){var a=Or();try{return A.get(r)(e,n,t,o)}catch(r){if(Ir(a),r!==r+0&&"longjmp"!==r)throw r;Fr(1,0)}},p:function(r,e,n,t,o){var a=Or();try{A.get(r)(e,n,t,o)}catch(r){if(Ir(a),r!==r+0&&"longjmp"!==r)throw r;Fr(1,0)}},x:function(r,e,n,t,o,a,i,u){var c=Or();try{A.get(r)(e,n,t,o,a,i,u)}catch(r){if(Ir(c),r!==r+0&&"longjmp"!==r)throw r;Fr(1,0)}},c:function(r){h=r}};!function(){var e={a:Pr};function t(e,n){var t,o=e.exports;r.asm=o,I((p=r.asm.C).buffer),A=r.asm.L,t=r.asm.D,x.unshift(t),function(e){if(D--,r.monitorRunDependencies&&r.monitorRunDependencies(D),0==D&&N){var n=N;N=null,n()}}()}function o(r){t(r.instance)}function u(r){return(d||!a&&!i||"function"!=typeof fetch?Promise.resolve().then((function(){return z(V)})):fetch(V,{credentials:"same-origin"}).then((function(r){if(!r.ok)throw"failed to load wasm binary file at '"+V+"'";return r.arrayBuffer()})).catch((function(){return z(V)}))).then((function(r){return WebAssembly.instantiate(r,e)})).then(r,(function(r){f("failed to asynchronously prepare wasm: "+r),M(r)}))}if(D++,r.monitorRunDependencies&&r.monitorRunDependencies(D),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(r){return f("Module.instantiateWasm callback failed with error: "+r),!1}(d||"function"!=typeof WebAssembly.instantiateStreaming||B(V)||"function"!=typeof fetch?u(o):fetch(V,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(o,(function(r){return f("wasm streaming compile failed: "+r),f("falling back to ArrayBuffer instantiation"),u(o)}))}))).catch(n)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.D).apply(null,arguments)};var Wr=r._malloc=function(){return(Wr=r._malloc=r.asm.E).apply(null,arguments)},Sr=r._free=function(){return(Sr=r._free=r.asm.F).apply(null,arguments)},Rr=r.___getTypeName=function(){return(Rr=r.___getTypeName=r.asm.G).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.H).apply(null,arguments)};var jr,Or=r.stackSave=function(){return(Or=r.stackSave=r.asm.I).apply(null,arguments)},Ir=r.stackRestore=function(){return(Ir=r.stackRestore=r.asm.J).apply(null,arguments)},Fr=r._setThrew=function(){return(Fr=r._setThrew=r.asm.K).apply(null,arguments)};function xr(n){function t(){jr||(jr=!0,r.calledRun=!0,C||(G(x),e(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),U.unshift(e);var e;G(U)}()))}D>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)e=r.preRun.shift(),F.unshift(e);var e;G(F)}(),D>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t()))}if(r.dynCall_iiijii=function(){return(r.dynCall_iiijii=r.asm.M).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.N).apply(null,arguments)},N=function r(){jr||xr(),jr||(N=r)},r.run=xr,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return xr(),r.ready});const p=void 0!==globalThis.ServiceWorkerGlobalScope&&"undefined"!=typeof self&&globalThis.caches&&void 0!==globalThis.caches.default,h="object"==typeof process&&process.release&&"node"===process.release.name;let v;async function m(r){v||async function(r,e){v=o(d,0,e)}();const e=(await v).decode(r);if(!e)throw new Error("Decoding error");return e}(p||h)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(r,e,n){this.data=r,this.width=e,this.height=n}}),void 0===import.meta.url&&(import.meta.url="https://localhost"),"undefined"!=typeof self&&void 0===self.location&&(self.location={href:""}));class g{getBlob(e){return r(this,void 0,void 0,(function*(){return new Promise(((r,n)=>{const t=new Worker(new URL("./simple.worker.js?worker",import.meta.url),{type:"module"});t.onmessage=e=>{e.data.success||n(new Error(e.data.error)),r(e.data.blob)},t.onerror=r=>{n(r)},t.postMessage({imageData:e,command:"image-data-to-blob"})}))}))}decode(e){return r(this,void 0,void 0,(function*(){const r=yield e.arrayBuffer(),t=yield m(r),o=yield this.getBlob(t);return{width:t.width,height:t.height,blob:o,format:n.png}}))}}class y{decode(e){return r(this,void 0,void 0,(function*(){return new Promise(((r,n)=>{const t=new Worker(new URL("./heif.worker.js?worker",import.meta.url),{type:"module"});t.onmessage=e=>{e.data.success||n(new Error(e.data.error)),r(e.data)},t.onerror=r=>{n(r)},t.postMessage({file:e,command:"decode"})}))}))}}class w{decode(e){return r(this,void 0,void 0,(function*(){return new Promise(((r,n)=>{const t=new Worker(new URL("./simple.worker.js?worker",import.meta.url),{type:"module"});t.onmessage=e=>{e.data.success||n(new Error(e.data.error)),r(e.data)},t.onerror=r=>{n(r)},t.postMessage({file:e,command:"decode"})}))}))}}class b{static createDecoder(r){switch(r){case n.heic:case n.heif:return new y;case n.avif:return new g;default:return new w}}}class _{getImageData(e,n){return r(this,void 0,void 0,(function*(){return new Promise(((r,t)=>{const o=new Worker(new URL("./simple.worker.js?worker",import.meta.url),{type:"module"});o.onmessage=e=>{e.data.success||t(new Error(e.data.error)),r(e.data.imageData)},o.onerror=r=>{t(r)},o.postMessage({blob:e,targetMimeType:n,command:"blob-to-image-data"})}))}))}encode(e,n){return r(this,void 0,void 0,(function*(){const r=yield this.getImageData(e,n),t=yield f(r);return{blob:new Blob([t],{type:"image/avif"})}}))}}class E{encode(e,n){return r(this,void 0,void 0,(function*(){return new Promise(((r,t)=>{const o=new Worker(new URL("./simple.worker.js?worker",import.meta.url),{type:"module"});o.onmessage=e=>{e.data.success||t(new Error(e.data.error)),r(e.data)},o.onerror=r=>{t(r)},o.postMessage({blob:e,targetMimeType:n,command:"encode"})}))}))}}const T={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};function A(r,e,n={}){return r({noInitialRun:!0,instantiateWasm:undefined,...n})}let C;async function k(r,e={}){C||(C=async function(r,e){if(await a()){const r=await Promise.resolve().then((function(){return U}));return C=A(r.default,0,e),C}const n=await Promise.resolve().then((function(){return N}));return C=A(n.default,0,e),C}());const n={...T,...e},t=(await C).encode(r.data,r.width,r.height,n);if(!t)throw new Error("Encoding error.");return t.buffer}class ${getImageData(e,n){return r(this,void 0,void 0,(function*(){return new Promise(((r,t)=>{const o=new Worker(new URL("./simple.worker.js?worker",import.meta.url),{type:"module"});o.onmessage=e=>{e.data.success||t(new Error(e.data.error)),r(e.data.imageData)},o.onerror=r=>{t(r)},o.postMessage({blob:e,targetMimeType:n,command:"blob-to-image-data"})}))}))}encode(e,n){return r(this,void 0,void 0,(function*(){const r=yield this.getImageData(e,n),t=yield k(r);return{blob:new Blob([t],{type:"image/webp"})}}))}}class P{static createEncoder(r){switch(r){case"webp":return new $;case"avif":return new _;default:return new E}}}class W{constructor(){this.supportedEncodeFormats=[n.jpeg,n.png,n.webp,n.avif],this.supportedDecodeFormats=[n.jpeg,n.png,n.webp,n.heic,n.heif,n.bmp,n.avif]}determineMimeType(r){return r.type}mimeTypeToFormat(r){switch(r){case"image/gif":return n.gif;case"image/heic":return n.heic;case"image/heif":return n.heif;case"image/webp":return n.webp;case"image/jpeg":default:return n.jpeg;case"image/png":return n.png;case"image/bmp":return n.bmp;case"image/avif":return n.avif}}formatToMimeType(r){switch(r){case n.gif:return"image/gif";case n.heic:return"image/heic";case n.heif:return"image/heif";case n.webp:return"image/webp";case n.jpeg:return"image/jpeg";case n.png:return"image/png";case n.bmp:return"image/bmp";case n.avif:return"image/avif";default:return"image/jpeg"}}process(n,t){return r(this,void 0,void 0,(function*(){var r,o,a,i,u;if(!window.Worker)throw new Error("Web Workers are not supported in this environment");if(!window.OffscreenCanvas)throw new Error("OffscreenCanvas is not supported in this environment");if(!this.supportedEncodeFormats.includes(t.format))throw new Error("Encoding to this format is not supported yet");const c=this.determineMimeType(n),s=this.mimeTypeToFormat(c);if(!n.type.startsWith("image")||!this.supportedDecodeFormats.includes(s))throw new Error("Decoding of this format is not supported yet");const f=b.createDecoder(s),l=yield f.decode(n),d=null!==(o=null===(r=t.resize)||void 0===r?void 0:r[0])&&void 0!==o?o:l.width,p=null!==(i=null===(a=t.resize)||void 0===a?void 0:a[1])&&void 0!==i?i:l.height,h=t.format,v=new e,m=yield v.compress({blob:l.blob,quality:null!==(u=t.quality)&&void 0!==u?u:100,targetWidth:d,targetHeight:p}),g=P.createEncoder(h),y=this.formatToMimeType(h);return(yield g.encode(m.blob,y)).blob}))}downloadFile(r,e){const n=URL.createObjectURL(r),t=document.createElement("a");t.href=n,t.download=e,document.body.appendChild(t),t.click(),URL.revokeObjectURL(n),document.body.removeChild(t)}}var S=function(){var r=import.meta.url;return function(e){function n(){return k.buffer!=W&&X(k.buffer),S}function t(){return k.buffer!=W&&X(k.buffer),R}function o(){return k.buffer!=W&&X(k.buffer),j}function a(){return k.buffer!=W&&X(k.buffer),O}function i(){return k.buffer!=W&&X(k.buffer),I}function u(){return k.buffer!=W&&X(k.buffer),F}function c(){return k.buffer!=W&&X(k.buffer),U}var s,f;(e=void 0!==(e=e||{})?e:{}).ready=new Promise((function(r,e){s=r,f=e}));var l,d={};for(l in e)e.hasOwnProperty(l)&&(d[l]=e[l]);var p,h=function(r,e){throw e},v=!1,m=!1;v="object"==typeof window,m="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;var g,y=e.ENVIRONMENT_IS_PTHREAD||!1,w="";function b(r){return e.locateFile?e.locateFile(r,w):w+r}(v||m)&&(m?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),r&&(w=r),w=0!==w.indexOf("blob:")?w.substr(0,w.lastIndexOf("/")+1):"",m&&(g=function(r){var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var _=e.print||console.log.bind(console),E=e.printErr||console.warn.bind(console);for(l in d)d.hasOwnProperty(l)&&(e[l]=d[l]);function T(r){T.shown||(T.shown={}),T.shown[r]||(T.shown[r]=1,E(r))}d=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&(h=e.quit);var A,C=0;e.wasmBinary&&(A=e.wasmBinary);var k,$,P=e.noExitRuntime||!0;"object"!=typeof WebAssembly&&ar("no native wasm support detected");var W,S,R,j,O,I,F,x,U,D=!1;function N(r,e){r||ar("Assertion failed: "+e)}function M(r,e,n){for(var t=e+n,o="";!(e>=t);){var a=r[e++];if(!a)return o;if(128&a){var i=63&r[e++];if(192!=(224&a)){var u=63&r[e++];if((a=224==(240&a)?(15&a)<<12|i<<6|u:(7&a)<<18|i<<12|u<<6|63&r[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o}function L(r,e){return r?M(t(),r,e):""}function H(r,e,n){return function(r,e,n,t){if(!(t>0))return 0;for(var o=n,a=n+t-1,i=0;i<r.length;++i){var u=r.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&r.charCodeAt(++i)),u<=127){if(n>=a)break;e[n++]=u}else if(u<=2047){if(n+1>=a)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=a)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=a)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}return e[n]=0,n-o}(r,t(),e,n)}function B(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&r.charCodeAt(++n)),t<=127?++e:e+=t<=2047?2:t<=65535?3:4}return e}function V(r,e){for(var n="",t=0;!(t>=e/2);++t){var a=o()[r+2*t>>1];if(0==a)break;n+=String.fromCharCode(a)}return n}function z(r,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var t=e,a=(n-=2)<2*r.length?n/2:r.length,i=0;i<a;++i){var u=r.charCodeAt(i);o()[e>>1]=u,e+=2}return o()[e>>1]=0,e-t}function G(r){return 2*r.length}function q(r,e){for(var n=0,t="";!(n>=e/4);){var o=i()[r+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;t+=String.fromCharCode(55296|a>>10,56320|1023&a)}else t+=String.fromCharCode(o)}return t}function K(r,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var t=e,o=t+n-4,a=0;a<r.length;++a){var u=r.charCodeAt(a);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&r.charCodeAt(++a);if(i()[e>>2]=u,(e+=4)+4>o)break}return i()[e>>2]=0,e-t}function Q(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&++n,e+=4}return e}function X(r){W=r,e.HEAP8=S=new Int8Array(r),e.HEAP16=j=new Int16Array(r),e.HEAP32=I=new Int32Array(r),e.HEAPU8=R=new Uint8Array(r),e.HEAPU16=O=new Uint16Array(r),e.HEAPU32=F=new Uint32Array(r),e.HEAPF32=x=new Float32Array(r),e.HEAPF64=U=new Float64Array(r)}y&&(W=e.buffer);var Y,Z=e.INITIAL_MEMORY||16777216;if(y)k=e.wasmMemory,W=e.buffer;else if(e.wasmMemory)k=e.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:Z/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw E("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),p&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");k&&(W=k.buffer),Z=W.byteLength,X(W);var J=[],rr=[],er=[];function nr(){y||lr(rr)}var tr=0,or=null;function ar(r){e.onAbort&&e.onAbort(r),y&&console.error("Pthread aborting at "+(new Error).stack),E(r+=""),D=!0,r="abort("+r+"). Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(r);throw f(n),n}e.preloadedImages={},e.preloadedAudios={};var ir="data:application/octet-stream;base64,";function ur(r){return r.startsWith(ir)}if(e.locateFile)ur(cr="avif_enc_mt.wasm")||(cr=b(cr));else var cr=new URL("avif_enc_mt.wasm",import.meta.url).toString();function sr(r){try{if(r==cr&&A)return new Uint8Array(A);if(g)return g(r);throw"both async and sync fetching of the wasm failed"}catch(r){ar(r)}}var fr={601116:function(){throw"Canceled!"},601134:function(r,e){setTimeout((function(){Fe(r,e)}),0)}};function lr(r){for(;r.length>0;){var n=r.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?Y.get(t)():Y.get(t)(n.arg):t(void 0===n.arg?null:n.arg)}else n(e)}}var dr={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function pr(r,e){if(r<=0||r>n().length||!0&r||e<0)return-28;if(0==e)return 0;e>=2147483647&&(e=1/0);var t=Atomics.load(i(),Je>>2),o=0;if(t==r&&(Atomics.compareExchange(i(),Je>>2,t,0)==t&&(o=1,--e<=0)))return 1;var a=Atomics.notify(i(),r>>2,e);if(a>=0)return a+o;throw"Atomics.notify returned an unexpected value "+a}function hr(r){if(y)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in cleanupThread!";var e=vr.pthreads[r];if(e){i()[r+12>>2]=0;var n=e.worker;vr.returnWorkerToPool(n)}}e._emscripten_futex_wake=pr;var vr={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var r=navigator.hardwareConcurrency,e=0;e<r;++e)vr.allocateUnusedWorker()},initRuntime:function(){for(var r=Se(228),e=0;e<57;++e)u()[r/4+e]=0;i()[r+12>>2]=r;var n=r+152;i()[n>>2]=n;var t=Se(512);for(e=0;e<128;++e)u()[t/4+e]=0;Atomics.store(u(),r+100>>2,t),Atomics.store(u(),r+40>>2,r),Me(r,!m,1),Oe(r)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;vr.threadExitHandlers.length>0;)vr.threadExitHandlers.pop()();y&&Le()&&He()},runExitHandlersAndDeinitThread:function(r,e){Atomics.store(u(),r+56>>2,1),Atomics.store(u(),r+60>>2,0),vr.runExitHandlers(),Atomics.store(u(),r+4>>2,e),Atomics.store(u(),r+0>>2,1),pr(r+0,2147483647),Me(0,0,0)},setExitStatus:function(r){},threadExit:function(r){var e=Le();e&&(vr.runExitHandlersAndDeinitThread(e,r),y&&postMessage({cmd:"exit"}))},threadCancel:function(){vr.runExitHandlersAndDeinitThread(Le(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var r in vr.pthreads){(t=vr.pthreads[r])&&t.worker&&vr.returnWorkerToPool(t.worker)}vr.pthreads={};for(var e=0;e<vr.unusedWorkers.length;++e){(n=vr.unusedWorkers[e]).terminate()}vr.unusedWorkers=[];for(e=0;e<vr.runningWorkers.length;++e){var n,t=(n=vr.runningWorkers[e]).pthread;vr.freeThreadData(t),n.terminate()}vr.runningWorkers=[]},freeThreadData:function(r){if(r){if(r.threadInfoStruct){var e=i()[r.threadInfoStruct+100>>2];i()[r.threadInfoStruct+100>>2]=0,Re(e),Re(r.threadInfoStruct)}r.threadInfoStruct=0,r.allocatedOwnStack&&r.stackBase&&Re(r.stackBase),r.stackBase=0,r.worker&&(r.worker.pthread=null)}},returnWorkerToPool:function(r){vr.runWithoutMainThreadQueuedCalls((function(){delete vr.pthreads[r.pthread.threadInfoStruct],vr.unusedWorkers.push(r),vr.runningWorkers.splice(vr.runningWorkers.indexOf(r),1),vr.freeThreadData(r.pthread),r.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(r){i()[Ze>>2]=0;try{r()}finally{i()[Ze>>2]=1}},receiveObjectTransfer:function(r){},threadInit:function(){for(var r in vr.tlsInitFunctions)vr.tlsInitFunctions[r]()},loadWasmModuleToWorker:function(r,n){r.onmessage=function(t){var o=t.data,a=o.cmd;if(r.pthread&&(vr.currentProxiedOperationCallerThread=r.pthread.threadInfoStruct),o.targetThread&&o.targetThread!=Le()){var c=vr.pthreads[o.targetThread];return c?c.worker.postMessage(t.data,o.transferList):console.error('Internal error! Worker sent a message "'+a+'" to target pthread '+o.targetThread+", but that thread no longer exists!"),void(vr.currentProxiedOperationCallerThread=void 0)}if("processQueuedMainThreadWork"===a)Ue();else if("spawnThread"===a)ke(t.data);else if("cleanupThread"===a)hr(o.thread);else if("killThread"===a)!function(r){if(y)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in killThread!";i()[r+12>>2]=0;var e=vr.pthreads[r];e.worker.terminate(),vr.freeThreadData(e),vr.runningWorkers.splice(vr.runningWorkers.indexOf(e.worker),1),e.worker.pthread=void 0}(o.thread);else if("cancelThread"===a)!function(r){if(y)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in cancelThread!";vr.pthreads[r].worker.postMessage({cmd:"cancel"})}(o.thread);else if("loaded"===a)r.loaded=!0,n&&n(r),r.runPthread&&(r.runPthread(),delete r.runPthread);else if("print"===a)_("Thread "+o.threadId+": "+o.text);else if("printErr"===a)E("Thread "+o.threadId+": "+o.text);else if("alert"===a)alert("Thread "+o.threadId+": "+o.text);else if("exit"===a){r.pthread&&Atomics.load(u(),r.pthread.threadInfoStruct+64>>2)&&vr.returnWorkerToPool(r)}else if("exitProcess"===a)try{!function(r,n){if(y)throw postMessage({cmd:"exitProcess",returnCode:r}),new rn(r);yr()||(vr.terminateAllThreads(),e.onExit&&e.onExit(r),D=!0);h(r,new rn(r))}(o.returnCode)}catch(t){if(t instanceof rn)return;throw t}else"cancelDone"===a?vr.returnWorkerToPool(r):"objectTransfer"===a?vr.receiveObjectTransfer(t.data):"setimmediate"===t.data.target?r.postMessage(t.data):E("worker sent an unknown command "+a);vr.currentProxiedOperationCallerThread=void 0},r.onerror=function(r){E("pthread sent an error! "+r.filename+":"+r.lineno+": "+r.message)},r.postMessage({cmd:"load",urlOrBlob:e.mainScriptUrlOrBlob,wasmMemory:k,wasmModule:$})},allocateUnusedWorker:function(){if(e.locateFile){var r=b("avif_enc_mt.worker.js");vr.unusedWorkers.push(new Worker(r))}else vr.unusedWorkers.push(new Worker(new URL("avif_enc_mt.worker.js",import.meta.url)))},getNewWorker:function(){return 0==vr.unusedWorkers.length&&(vr.allocateUnusedWorker(),vr.loadWasmModuleToWorker(vr.unusedWorkers[0])),vr.unusedWorkers.pop()},busySpinWait:function(r){for(var e=performance.now()+r;performance.now()<e;);}};e.establishStackSpace=function(r,e){qe(r,e),ze(r)},e.invokeEntryPoint=function(r,e){return Y.get(r)(e)};var mr,gr=0;function yr(){return P||gr>0}function wr(r,e){vr.threadExitHandlers.push((function(){Y.get(r)(e)}))}e.keepRuntimeAlive=yr,mr=y?function(){return performance.now()-e.__performance_now_clock_drift}:function(){return performance.now()};var br={mappings:{},buffers:[null,[],[]],printChar:function(r,e){var n=br.buffers[r];0===e||10===e?((1===r?_:E)(M(n,0)),n.length=0):n.push(e)},varargs:void 0,get:function(){return br.varargs+=4,i()[br.varargs-4>>2]},getStr:function(r){return L(r)},get64:function(r,e){return r}};function _r(r,e,n){return y?se(1,1,r,e,n):(br.varargs=n,0)}function Er(r,e,n){return y?se(2,1,r,e,n):(br.varargs=n,0)}function Tr(r,e,n){if(y)return se(3,1,r,e,n);br.varargs=n}var Ar={};function Cr(r){for(;r.length;){var e=r.pop();r.pop()(e)}}function kr(r){return this.fromWireType(u()[r>>2])}var $r={},Pr={},Wr={},Sr=48,Rr=57;function jr(r,e){return r=function(r){if(void 0===r)return"_unknown";var e=(r=r.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=Sr&&e<=Rr?"_"+r:r}(r),function(){return e.apply(this,arguments)}}function Or(r,e){var n=jr(e,(function(r){this.name=e,this.message=r;var n=new Error(r).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Ir=void 0;function Fr(r){throw new Ir(r)}function xr(r,e,n){function t(e){var t=n(e);t.length!==r.length&&Fr("Mismatched type converter count");for(var o=0;o<r.length;++o)Hr(r[o],t[o])}r.forEach((function(r){Wr[r]=e}));var o=new Array(e.length),a=[],i=0;e.forEach((function(r,e){Pr.hasOwnProperty(r)?o[e]=Pr[r]:(a.push(r),$r.hasOwnProperty(r)||($r[r]=[]),$r[r].push((function(){o[e]=Pr[r],++i===a.length&&t(o)})))})),0===a.length&&t(o)}function Ur(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}var Dr=void 0;function Nr(r){for(var e="",n=r;t()[n];)e+=Dr[t()[n++]];return e}var Mr=void 0;function Lr(r){throw new Mr(r)}function Hr(r,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=e.name;if(r||Lr('type "'+t+'" must have a positive integer typeid pointer'),Pr.hasOwnProperty(r)){if(n.ignoreDuplicateRegistrations)return;Lr("Cannot register type '"+t+"' twice")}if(Pr[r]=e,delete Wr[r],$r.hasOwnProperty(r)){var o=$r[r];delete $r[r],o.forEach((function(r){r()}))}}var Br=[],Vr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function zr(r){r>4&&0==--Vr[r].refcount&&(Vr[r]=void 0,Br.push(r))}function Gr(){for(var r=0,e=5;e<Vr.length;++e)void 0!==Vr[e]&&++r;return r}function qr(){for(var r=5;r<Vr.length;++r)if(void 0!==Vr[r])return Vr[r];return null}function Kr(r){switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Br.length?Br.pop():Vr.length;return Vr[e]={refcount:1,value:r},e}}function Qr(r){if(null===r)return"null";var e=typeof r;return"object"===e||"array"===e||"function"===e?r.toString():""+r}function Xr(r,e){switch(e){case 2:return function(r){return this.fromWireType((k.buffer!=W&&X(k.buffer),x)[r>>2])};case 3:return function(r){return this.fromWireType(c()[r>>3])};default:throw new TypeError("Unknown float type: "+r)}}function Yr(r,n,t){e.hasOwnProperty(r)?((void 0===t||void 0!==e[r].overloadTable&&void 0!==e[r].overloadTable[t])&&Lr("Cannot register public name '"+r+"' twice"),function(r,e,n){if(void 0===r[e].overloadTable){var t=r[e];r[e]=function(){return r[e].overloadTable.hasOwnProperty(arguments.length)||Lr("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[e].overloadTable+")!"),r[e].overloadTable[arguments.length].apply(this,arguments)},r[e].overloadTable=[],r[e].overloadTable[t.argCount]=t}}(e,r,r),e.hasOwnProperty(t)&&Lr("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),e[r].overloadTable[t]=n):(e[r]=n,void 0!==t&&(e[r].numArguments=t))}function Zr(r,n,t){return r.includes("j")?function(r,n,t){var o=e["dynCall_"+r];return t&&t.length?o.apply(null,[n].concat(t)):o.call(null,n)}(r,n,t):Y.get(n).apply(null,t)}function Jr(r,e){var n,t,o,a=(r=Nr(r)).includes("j")?(n=r,t=e,o=[],function(){o.length=arguments.length;for(var r=0;r<arguments.length;r++)o[r]=arguments[r];return Zr(n,t,o)}):Y.get(e);return"function"!=typeof a&&Lr("unknown function pointer with signature "+r+": "+e),a}var re=void 0;function ee(r){var e=je(r),n=Nr(e);return Re(e),n}function ne(r,e,c){switch(e){case 0:return c?function(r){return n()[r]}:function(r){return t()[r]};case 1:return c?function(r){return o()[r>>1]}:function(r){return a()[r>>1]};case 2:return c?function(r){return i()[r>>2]}:function(r){return u()[r>>2]};default:throw new TypeError("Unknown integer type: "+r)}}var te={};function oe(){if("object"==typeof globalThis)return globalThis;function r(r){r.$$$embind_global$$$=r;var e="object"==typeof $$$embind_global$$$&&r.$$$embind_global$$$===r;return e||delete r.$$$embind_global$$$,e}if("object"==typeof $$$embind_global$$$)return $$$embind_global$$$;if("object"==typeof global&&r(global)?$$$embind_global$$$=global:"object"==typeof self&&r(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$)return $$$embind_global$$$;throw Error("unable to get global object.")}var ae={};var ie=[];function ue(){m||T("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function ce(r,e,t){if(r<=0||r>n().length||!0&r)return-28;if(v){if(Atomics.load(i(),r>>2)!=e)return-6;var o=performance.now(),a=o+t;for(Atomics.exchange(i(),Je>>2,r);;){if((o=performance.now())>a)return Atomics.exchange(i(),Je>>2,0),-73;if(0==Atomics.exchange(i(),Je>>2,0))break;if(Ue(),Atomics.load(i(),r>>2)!=e)return-6;Atomics.exchange(i(),Je>>2,r)}return 0}var u=Atomics.wait(i(),r>>2,e,t);if("timed-out"===u)return-73;if("not-equal"===u)return-6;if("ok"===u)return 0;throw"Atomics.wait returned an unexpected value "+u}function se(r,e){for(var n=arguments.length-2,t=Ve(),o=n,a=Ge(8*o),i=a>>3,u=0;u<n;u++){var s=arguments[2+u];c()[i+u]=s}var f=De(r,o,a,e);return ze(t),f}var fe=[];function le(r){try{return k.grow(r-W.byteLength+65535>>>16),X(k.buffer),1}catch(r){}}var de={inEventHandler:0,removeAllEventListeners:function(){for(var r=de.eventHandlers.length-1;r>=0;--r)de._removeHandler(r);de.eventHandlers=[],de.deferredCalls=[]},registerRemoveEventListeners:function(){de.removeEventListenersRegistered||(de.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(r,e,n){function t(r,e){if(r.length!=e.length)return!1;for(var n in r)if(r[n]!=e[n])return!1;return!0}for(var o in de.deferredCalls){var a=de.deferredCalls[o];if(a.targetFunction==r&&t(a.argsList,n))return}de.deferredCalls.push({targetFunction:r,precedence:e,argsList:n}),de.deferredCalls.sort((function(r,e){return r.precedence<e.precedence}))},removeDeferredCalls:function(r){for(var e=0;e<de.deferredCalls.length;++e)de.deferredCalls[e].targetFunction==r&&(de.deferredCalls.splice(e,1),--e)},canPerformEventHandlerRequests:function(){return de.inEventHandler&&de.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(de.canPerformEventHandlerRequests())for(var r=0;r<de.deferredCalls.length;++r){var e=de.deferredCalls[r];de.deferredCalls.splice(r,1),--r,e.targetFunction.apply(null,e.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(r,e){for(var n=0;n<de.eventHandlers.length;++n)de.eventHandlers[n].target!=r||e&&e!=de.eventHandlers[n].eventTypeString||de._removeHandler(n--)},_removeHandler:function(r){var e=de.eventHandlers[r];e.target.removeEventListener(e.eventTypeString,e.eventListenerFunc,e.useCapture),de.eventHandlers.splice(r,1)},registerOrRemoveHandler:function(r){var e=function(e){++de.inEventHandler,de.currentEventHandler=r,de.runDeferredCalls(),r.handlerFunc(e),de.runDeferredCalls(),--de.inEventHandler};if(r.callbackfunc)r.eventListenerFunc=e,r.target.addEventListener(r.eventTypeString,e,r.useCapture),de.eventHandlers.push(r),de.registerRemoveEventListeners();else for(var n=0;n<de.eventHandlers.length;++n)de.eventHandlers[n].target==r.target&&de.eventHandlers[n].eventTypeString==r.eventTypeString&&de._removeHandler(n--)},queueEventHandlerOnThread_iiii:function(r,e,n,t,o){var a=Ve(),u=Ge(12);i()[u>>2]=n,i()[u+4>>2]=t,i()[u+8>>2]=o,Ne(0,r,637534208,e,t,u),ze(a)},getTargetThreadForEventCallback:function(r){switch(r){case 1:return 0;case 2:return vr.currentProxiedOperationCallerThread;default:return r}},getNodeNameForTarget:function(r){return r?r==window?"#window":r==screen?"#screen":r&&r.nodeName?r.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function pe(r,e,n,t){var o,a,u,c=Ve(),s=Ge(12),f=0;e&&(a=B(o=e)+1,u=Se(a),H(o,u,a),f=u),i()[s>>2]=f,i()[s+4>>2]=n,i()[s+8>>2]=t,Ne(0,r,657457152,0,f,s),ze(c)}var he=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function ve(r){var e;return r=(e=r)>2?L(e):e,he[r]||("undefined"!=typeof document?document.querySelector(r):void 0)}function me(r){return ve(r)}function ge(r,e,n){var t=me(r);if(!t)return-4;if(t.canvasSharedPtr&&(i()[t.canvasSharedPtr>>2]=e,i()[t.canvasSharedPtr+4>>2]=n),!t.offscreenCanvas&&t.controlTransferredOffscreen)return t.canvasSharedPtr?(function(r,e,n,t){pe(r,e=e?L(e):"",n,t)}(i()[t.canvasSharedPtr+8>>2],r,e,n),1):-4;t.offscreenCanvas&&(t=t.offscreenCanvas);var o=!1;if(t.GLctxObject&&t.GLctxObject.GLctx){var a=t.GLctxObject.GLctx.getParameter(2978);o=0===a[0]&&0===a[1]&&a[2]===t.width&&a[3]===t.height}return t.width=e,t.height=n,o&&t.GLctxObject.GLctx.viewport(0,0,e,n),0}function ye(r,e,n){return y?se(4,1,r,e,n):ge(r,e,n)}var we,be={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(r){be.lastError||(be.lastError=r)},getNewId:function(r){for(var e=be.counter++,n=r.length;n<e;n++)r[n]=null;return e},getSource:function(r,e,n,t){for(var o="",a=0;a<e;++a){var u=t?i()[t+4*a>>2]:-1;o+=L(i()[n+4*a>>2],u<0?void 0:u)}return o},createContext:function(r,e){r.getContextSafariWebGL2Fixed||(r.getContextSafariWebGL2Fixed=r.getContext,r.getContext=function(e,n){var t=r.getContextSafariWebGL2Fixed(e,n);return"webgl"==e==t instanceof WebGLRenderingContext?t:null});var n=r.getContext("webgl",e);return n?be.registerContext(n,e):0},registerContext:function(r,e){var n=Se(8);i()[n+4>>2]=Le();var t={handle:n,attributes:e,version:e.majorVersion,GLctx:r};return r.canvas&&(r.canvas.GLctxObject=t),be.contexts[n]=t,(void 0===e.enableExtensionsByDefault||e.enableExtensionsByDefault)&&be.initExtensions(t),n},makeContextCurrent:function(r){return be.currentContext=be.contexts[r],e.ctx=we=be.currentContext&&be.currentContext.GLctx,!(r&&!we)},getContext:function(r){return be.contexts[r]},deleteContext:function(r){be.currentContext===be.contexts[r]&&(be.currentContext=null),"object"==typeof de&&de.removeAllHandlersOnTarget(be.contexts[r].GLctx.canvas),be.contexts[r]&&be.contexts[r].GLctx.canvas&&(be.contexts[r].GLctx.canvas.GLctxObject=void 0),Re(be.contexts[r].handle),be.contexts[r]=null},initExtensions:function(r){if(r||(r=be.currentContext),!r.initExtensionsDone){r.initExtensionsDone=!0;var e,n=r.GLctx;!function(r){var e=r.getExtension("ANGLE_instanced_arrays");if(e)r.vertexAttribDivisor=function(r,n){e.vertexAttribDivisorANGLE(r,n)},r.drawArraysInstanced=function(r,n,t,o){e.drawArraysInstancedANGLE(r,n,t,o)},r.drawElementsInstanced=function(r,n,t,o,a){e.drawElementsInstancedANGLE(r,n,t,o,a)}}(n),function(r){var e=r.getExtension("OES_vertex_array_object");if(e)r.createVertexArray=function(){return e.createVertexArrayOES()},r.deleteVertexArray=function(r){e.deleteVertexArrayOES(r)},r.bindVertexArray=function(r){e.bindVertexArrayOES(r)},r.isVertexArray=function(r){return e.isVertexArrayOES(r)}}(n),function(r){var e=r.getExtension("WEBGL_draw_buffers");if(e)r.drawBuffers=function(r,n){e.drawBuffersWEBGL(r,n)}}(n),n.disjointTimerQueryExt=n.getExtension("EXT_disjoint_timer_query"),(e=n).multiDrawWebgl=e.getExtension("WEBGL_multi_draw"),(n.getSupportedExtensions()||[]).forEach((function(r){r.includes("lose_context")||r.includes("debug")||n.getExtension(r)}))}}},_e=["default","low-power","high-performance"];function Ee(r){return y?se(5,1,r):0}function Te(r,e,n,t){if(y)return se(6,1,r,e,n,t);var o=br.getStreamFromFD(r),a=br.doReadv(o,e,n);return i()[t>>2]=a,0}function Ae(r,e,n,t,o){if(y)return se(7,1,r,e,n,t,o)}function Ce(r,e,n,o){if(y)return se(8,1,r,e,n,o);for(var a=0,u=0;u<n;u++){for(var c=i()[e+8*u>>2],s=i()[e+(8*u+4)>>2],f=0;f<s;f++)br.printChar(r,t()[c+f]);a+=s}return i()[o>>2]=a,0}function ke(r){if(y)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var e=vr.getNewWorker();if(!e)return 6;if(void 0!==e.pthread)throw"Internal error!";if(!r.pthread_ptr)throw"Internal error, no pthread ptr!";vr.runningWorkers.push(e);for(var n=Se(512),t=0;t<128;++t)i()[n+4*t>>2]=0;var o=r.stackBase+r.stackSize,a=vr.pthreads[r.pthread_ptr]={worker:e,stackBase:r.stackBase,stackSize:r.stackSize,allocatedOwnStack:r.allocatedOwnStack,threadInfoStruct:r.pthread_ptr},c=a.threadInfoStruct>>2;Atomics.store(u(),c+16,r.detached),Atomics.store(u(),c+25,n),Atomics.store(u(),c+10,a.threadInfoStruct),Atomics.store(u(),c+20,r.stackSize),Atomics.store(u(),c+19,o),Atomics.store(u(),c+26,r.stackSize),Atomics.store(u(),c+28,o),Atomics.store(u(),c+29,r.detached);var s=Be()+40;Atomics.store(u(),c+43,s),e.pthread=a;var f={cmd:"run",start_routine:r.startRoutine,arg:r.arg,threadInfoStruct:r.pthread_ptr,stackBase:r.stackBase,stackSize:r.stackSize};return e.runPthread=function(){f.time=performance.now(),e.postMessage(f,r.transferList)},e.loaded&&(e.runPthread(),delete e.runPthread),0}function $e(){if(y){var r=Le();if(r)if(!Atomics.load(u(),r+56>>2))if(2==Atomics.load(u(),r+0>>2))throw"Canceled!"}}y||vr.initMainThreadBlock(),Ir=e.InternalError=Or(Error,"InternalError"),function(){for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);Dr=r}(),Mr=e.BindingError=Or(Error,"BindingError"),e.count_emval_handles=Gr,e.get_first_emval=qr,re=e.UnboundTypeError=Or(Error,"UnboundTypeError");var Pe=[null,_r,Er,Tr,ye,Ee,Te,Ae,Ce],We={k:function(r,e,n,t){ar("Assertion failed: "+L(r)+", at: "+[e?L(e):"unknown filename",n,t?L(t):"unknown function"])},C:function(r,e){return wr(r,e)},y:_r,X:Er,Y:Tr,F:function(r){var e=Ar[r];delete Ar[r];var n=e.rawConstructor,t=e.rawDestructor,o=e.fields;xr([r],o.map((function(r){return r.getterReturnType})).concat(o.map((function(r){return r.setterArgumentType}))),(function(r){var a={};return o.forEach((function(e,n){var t=e.fieldName,i=r[n],u=e.getter,c=e.getterContext,s=r[n+o.length],f=e.setter,l=e.setterContext;a[t]={read:function(r){return i.fromWireType(u(c,r))},write:function(r,e){var n=[];f(l,r,s.toWireType(n,e)),Cr(n)}}})),[{name:e.name,fromWireType:function(r){var e={};for(var n in a)e[n]=a[n].read(r);return t(r),e},toWireType:function(r,e){for(var o in a)if(!(o in e))throw new TypeError('Missing field:  "'+o+'"');var i=n();for(o in a)a[o].write(i,e[o]);return null!==r&&r.push(t,i),i},argPackAdvance:8,readValueFromPointer:kr,destructorFunction:t}]}))},I:function(r,e,n,t,o){},aa:function(r,e,t,a,u){var c=Ur(t);Hr(r,{name:e=Nr(e),fromWireType:function(r){return!!r},toWireType:function(r,e){return e?a:u},argPackAdvance:8,readValueFromPointer:function(r){var a;if(1===t)a=n();else if(2===t)a=o();else{if(4!==t)throw new TypeError("Unknown boolean type size: "+e);a=i()}return this.fromWireType(a[r>>c])},destructorFunction:null})},$:function(r,e){Hr(r,{name:e=Nr(e),fromWireType:function(r){var e=Vr[r].value;return zr(r),e},toWireType:function(r,e){return Kr(e)},argPackAdvance:8,readValueFromPointer:kr,destructorFunction:null})},z:function(r,e,n){var t=Ur(n);Hr(r,{name:e=Nr(e),fromWireType:function(r){return r},toWireType:function(r,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+Qr(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:Xr(e,t),destructorFunction:null})},E:function(r,n,t,o,a,u){var c=function(r,e){for(var n=[],t=0;t<r;t++)n.push(i()[(e>>2)+t]);return n}(n,t);r=Nr(r),a=Jr(o,a),Yr(r,(function(){!function(r,e){var n=[],t={};throw e.forEach((function r(e){t[e]||Pr[e]||(Wr[e]?Wr[e].forEach(r):(n.push(e),t[e]=!0))})),new re(r+": "+n.map(ee).join([", "]))}("Cannot call "+r+" due to unbound types",c)}),n-1),xr([],c,(function(t){var o=[t[0],null].concat(t.slice(1));return function(r,n,t){e.hasOwnProperty(r)||Fr("Replacing nonexistant public symbol"),void 0!==e[r].overloadTable&&void 0!==t?e[r].overloadTable[t]=n:(e[r]=n,e[r].argCount=t)}(r,function(r,e,n,t,o){var a=e.length;a<2&&Lr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==e[1]&&null!==n,u=!1,c=1;c<e.length;++c)if(null!==e[c]&&void 0===e[c].destructorFunction){u=!0;break}var s="void"!==e[0].name,f=a-2,l=new Array(f),d=[],p=[];return function(){var n;arguments.length!==f&&Lr("function "+r+" called with "+arguments.length+" arguments, expected "+f+" args!"),p.length=0,d.length=i?2:1,d[0]=o,i&&(n=e[1].toWireType(p,this),d[1]=n);for(var a=0;a<f;++a)l[a]=e[a+2].toWireType(p,arguments[a]),d.push(l[a]);var c=t.apply(null,d);if(u)Cr(p);else for(a=i?1:2;a<e.length;a++){var h=1===a?n:l[a-2];null!==e[a].destructorFunction&&e[a].destructorFunction(h)}if(s)return e[0].fromWireType(c)}}(r,o,null,a,u),n-1),[]}))},j:function(r,e,n,t,o){e=Nr(e),-1===o&&(o=4294967295);var a=Ur(n),i=function(r){return r};if(0===t){var u=32-8*n;i=function(r){return r<<u>>>u}}var c=e.includes("unsigned");Hr(r,{name:e,fromWireType:i,toWireType:function(r,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+Qr(n)+'" to '+this.name);if(n<t||n>o)throw new TypeError('Passing a number "'+Qr(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+t+", "+o+"]!");return c?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:ne(e,a,0!==t),destructorFunction:null})},g:function(r,e,n){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(r){r>>=2;var e=u(),n=e[r],o=e[r+1];return new t(W,o,n)}Hr(r,{name:n=Nr(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},A:function(r,e){var n="std::string"===(e=Nr(e));Hr(r,{name:e,fromWireType:function(r){var e,o=u()[r>>2];if(n)for(var a=r+4,i=0;i<=o;++i){var c=r+4+i;if(i==o||0==t()[c]){var s=L(a,c-a);void 0===e?e=s:(e+=String.fromCharCode(0),e+=s),a=c+1}}else{var f=new Array(o);for(i=0;i<o;++i)f[i]=String.fromCharCode(t()[r+4+i]);e=f.join("")}return Re(r),e},toWireType:function(r,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||Lr("Cannot pass non-string to std::string");var a=(n&&o?function(){return B(e)}:function(){return e.length})(),i=Se(4+a+1);if(u()[i>>2]=a,n&&o)H(e,i+4,a+1);else if(o)for(var c=0;c<a;++c){var s=e.charCodeAt(c);s>255&&(Re(i),Lr("String has UTF-16 code units that do not fit in 8 bits")),t()[i+4+c]=s}else for(c=0;c<a;++c)t()[i+4+c]=e[c];return null!==r&&r.push(Re,i),i},argPackAdvance:8,readValueFromPointer:kr,destructorFunction:function(r){Re(r)}})},r:function(r,e,n){var t,o,i,c,s;n=Nr(n),2===e?(t=V,o=z,c=G,i=function(){return a()},s=1):4===e&&(t=q,o=K,c=Q,i=function(){return u()},s=2),Hr(r,{name:n,fromWireType:function(r){for(var n,o=u()[r>>2],a=i(),c=r+4,f=0;f<=o;++f){var l=r+4+f*e;if(f==o||0==a[l>>s]){var d=t(c,l-c);void 0===n?n=d:(n+=String.fromCharCode(0),n+=d),c=l+e}}return Re(r),n},toWireType:function(r,t){"string"!=typeof t&&Lr("Cannot pass non-string to C++ string type "+n);var a=c(t),i=Se(4+a+e);return u()[i>>2]=a>>s,o(t,i+4,a+e),null!==r&&r.push(Re,i),i},argPackAdvance:8,readValueFromPointer:kr,destructorFunction:function(r){Re(r)}})},K:function(r,e,n,t,o,a){Ar[r]={name:Nr(e),rawConstructor:Jr(n,t),rawDestructor:Jr(o,a),fields:[]}},h:function(r,e,n,t,o,a,i,u,c,s){Ar[r].fields.push({fieldName:Nr(e),getterReturnType:n,getter:Jr(t,o),getterContext:a,setterArgumentType:i,setter:Jr(u,c),setterContext:s})},ba:function(r,e){Hr(r,{isVoid:!0,name:e=Nr(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(r,e){}})},T:function(r,e){if(r==e)postMessage({cmd:"processQueuedMainThreadWork"});else if(y)postMessage({targetThread:r,cmd:"processThreadQueue"});else{var n=vr.pthreads[r],t=n&&n.worker;if(!t)return;t.postMessage({cmd:"processThreadQueue"})}return 1},p:zr,_:function(r){return 0===r?Kr(oe()):(r=void 0===(n=te[e=r])?Nr(e):n,Kr(oe()[r]));var e,n},D:function(r){r>4&&(Vr[r].refcount+=1)},Q:function(r,e,n,t){r=function(r){return r||Lr("Cannot use deleted val. handle = "+r),Vr[r].value}(r);var o=ae[e];return o||(o=function(r){var e=new Array(r+1);return function(n,t,o){e[0]=n;for(var a=0;a<r;++a){var u=(c=i()[(t>>2)+a],s="parameter "+a,f=void 0,void 0===(f=Pr[c])&&Lr(s+" has unknown type "+ee(c)),f);e[a+1]=u.readValueFromPointer(o),o+=u.argPackAdvance}var c,s,f;return Kr(new(n.bind.apply(n,e)))}}(e),ae[e]=o),o(r,n,t)},i:function(){ar()},w:function(r,e,n){var o=function(r,e){var n;for(ie.length=0,e>>=2;n=t()[r++];){var o=n<105;o&&1&e&&e++,ie.push(o?c()[e++>>1]:i()[e]),++e}return ie}(e,n);return fr[r].apply(null,o)},O:ue,v:function(r,e){},l:ce,m:pr,o:mr,e:function(r,e){return function(r,e){throw Ke(r,e||1),"longjmp"}(r,e)},M:function(r,e,n){t().copyWithin(r,e,e+n)},ea:function(){return navigator.hardwareConcurrency},P:function(r,e,n){fe.length=e;for(var t=n>>3,o=0;o<e;o++)fe[o]=c()[t+o];return(r<0?fr[-r-1]:Pe[r]).apply(null,fe)},N:function(r){var e=t().length;if((r>>>=0)<=e)return!1;var n,o,a=2147483648;if(r>a)return!1;for(var i=1;i<=4;i*=2){var u=e*(1+.2/i);if(u=Math.min(u,r+100663296),le(Math.min(a,((n=Math.max(r,u))%(o=65536)>0&&(n+=o-n%o),n))))return!0}return!1},R:function(r,e,n){return me(r)?ge(r,e,n):ye(r,e,n)},u:function(r){},S:function(r,e){return n=r,t=e>>2,o=i()[t+6],a={alpha:!!i()[t+0],depth:!!i()[t+1],stencil:!!i()[t+2],antialias:!!i()[t+3],premultipliedAlpha:!!i()[t+4],preserveDrawingBuffer:!!i()[t+5],powerPreference:_e[o],failIfMajorPerformanceCaveat:!!i()[t+7],majorVersion:i()[t+8],minorVersion:i()[t+9],enableExtensionsByDefault:i()[t+10],explicitSwapControl:i()[t+11],proxyContextToMainThread:i()[t+12],renderViaOffscreenBackBuffer:i()[t+13]},(u=me(n))?a.explicitSwapControl?0:be.createContext(u,a):0;var n,t,o,a,u},x:Ee,W:Te,H:Ae,Z:Ce,c:function(){return C},L:function(){vr.initRuntime()},q:function(r,e,n,t,o){var a=Ve();try{return Y.get(r)(e,n,t,o)}catch(r){if(ze(a),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},s:function(r,e,n,t,o,a,i,u,c){var s=Ve();try{return Y.get(r)(e,n,t,o,a,i,u,c)}catch(r){if(ze(s),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},t:function(r,e,n,t,o,a,i,u,c,s){var f=Ve();try{return Y.get(r)(e,n,t,o,a,i,u,c,s)}catch(r){if(ze(f),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},J:function(r,e,n,t,o,a,i,u,c,s,f,l){var d=Ve();try{return Y.get(r)(e,n,t,o,a,i,u,c,s,f,l)}catch(r){if(ze(d),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},G:function(r,e,n,t,o,a){var i=Ve();try{return Xe(r,e,n,t,o,a)}catch(r){if(ze(i),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},n:function(r,e){var n=Ve();try{Y.get(r)(e)}catch(r){if(ze(n),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},f:function(r,e,n){var t=Ve();try{Y.get(r)(e,n)}catch(r){if(ze(t),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},d:function(r,e,n,t,o){var a=Ve();try{Y.get(r)(e,n,t,o)}catch(r){if(ze(a),r!==r+0&&"longjmp"!==r)throw r;Ke(1,0)}},a:k||e.wasmMemory,U:function(r){var e=vr.threadExitHandlers.pop();r&&e()},V:wr,B:function(r,e,n,t){if("undefined"==typeof SharedArrayBuffer)return E("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!r)return E("pthread_create called with a null thread pointer!"),28;var o=[];if(y&&0===o.length)return xe(687865856,r,e,n,t);var a=0,c=0,s=0;e&&-1!=e?(a=i()[e>>2],a+=81920,c=i()[e+8>>2],s=0!==i()[e+12>>2]):a=2097152;var f=0==c;f?c=Qe(16,a):N((c-=a)>0);for(var l=Se(228),d=0;d<57;++d)u()[(l>>2)+d]=0;i()[r>>2]=l,i()[l+12>>2]=l;var p=l+152;i()[p>>2]=p;var h={stackBase:c,stackSize:a,allocatedOwnStack:f,detached:s,startRoutine:n,pthread_ptr:l,arg:t,transferList:o};return y?(h.cmd="spawnThread",postMessage(h,o),0):ke(h)},ca:function(r,e){return function(r,e,n){if(!r)return E("pthread_join attempted on a null thread pointer!"),dr.ESRCH;if(y&&Le()==r)return E("PThread "+r+" is attempting to join to itself!"),dr.EDEADLK;if(!y&&Ie()==r)return E("Main thread "+r+" is attempting to join to itself!"),dr.EDEADLK;if(i()[r+12>>2]!==r)return E("pthread_join attempted on thread "+r+", which does not point to a valid thread, or does not exist anymore!"),dr.ESRCH;if(Atomics.load(u(),r+64>>2))return E("Attempted to join thread "+r+", which was already detached!"),dr.EINVAL;for(ue();;){var t=Atomics.load(u(),r+0>>2);if(1==t){var o=Atomics.load(u(),r+4>>2);return e&&(i()[e>>2]=o),Atomics.store(u(),r+64>>2,1),y?postMessage({cmd:"cleanupThread",thread:r}):hr(r),0}$e(),y||Ue(),ce(r+0,t,y?100:1)}}(r,e)},b:function(r){C=r},da:function(r){var e=Date.now()/1e3|0;return r&&(i()[r>>2]=e),e}};!function(){var r={a:We};function n(r,n){var t,o=r.exports;if(e.asm=o,Y=e.asm.ja,t=e.asm.fa,rr.unshift(t),vr.tlsInitFunctions.push(e.asm.ia),$=n,!y){var a=vr.unusedWorkers.length;vr.unusedWorkers.forEach((function(r){vr.loadWasmModuleToWorker(r,(function(){--a||function(r){if(tr--,e.monitorRunDependencies&&e.monitorRunDependencies(tr),0==tr&&or){var n=or;or=null,n()}}()}))}))}}function t(r){n(r.instance,r.module)}function o(e){return(A||!v&&!m||"function"!=typeof fetch?Promise.resolve().then((function(){return sr(cr)})):fetch(cr,{credentials:"same-origin"}).then((function(r){if(!r.ok)throw"failed to load wasm binary file at '"+cr+"'";return r.arrayBuffer()})).catch((function(){return sr(cr)}))).then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(r){E("failed to asynchronously prepare wasm: "+r),ar(r)}))}if(y||(N(!y,"addRunDependency cannot be used in a pthread worker"),tr++,e.monitorRunDependencies&&e.monitorRunDependencies(tr)),e.instantiateWasm)try{return e.instantiateWasm(r,n)}catch(r){return E("Module.instantiateWasm callback failed with error: "+r),!1}(A||"function"!=typeof WebAssembly.instantiateStreaming||ur(cr)||"function"!=typeof fetch?o(t):fetch(cr,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(r){return E("wasm streaming compile failed: "+r),E("falling back to ArrayBuffer instantiation"),o(t)}))}))).catch(f)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.fa).apply(null,arguments)};var Se=e._malloc=function(){return(Se=e._malloc=e.asm.ga).apply(null,arguments)},Re=e._free=function(){return(Re=e._free=e.asm.ha).apply(null,arguments)};e._emscripten_tls_init=function(){return(e._emscripten_tls_init=e.asm.ia).apply(null,arguments)};var je=e.___getTypeName=function(){return(je=e.___getTypeName=e.asm.ka).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.la).apply(null,arguments)},e._emscripten_current_thread_process_queued_calls=function(){return(e._emscripten_current_thread_process_queued_calls=e.asm.ma).apply(null,arguments)};var Oe=e._emscripten_register_main_browser_thread_id=function(){return(Oe=e._emscripten_register_main_browser_thread_id=e.asm.na).apply(null,arguments)},Ie=e._emscripten_main_browser_thread_id=function(){return(Ie=e._emscripten_main_browser_thread_id=e.asm.oa).apply(null,arguments)},Fe=e.__emscripten_do_dispatch_to_thread=function(){return(Fe=e.__emscripten_do_dispatch_to_thread=e.asm.pa).apply(null,arguments)},xe=e._emscripten_sync_run_in_main_thread_4=function(){return(xe=e._emscripten_sync_run_in_main_thread_4=e.asm.qa).apply(null,arguments)},Ue=e._emscripten_main_thread_process_queued_calls=function(){return(Ue=e._emscripten_main_thread_process_queued_calls=e.asm.ra).apply(null,arguments)},De=e._emscripten_run_in_main_runtime_thread_js=function(){return(De=e._emscripten_run_in_main_runtime_thread_js=e.asm.sa).apply(null,arguments)},Ne=e.__emscripten_call_on_thread=function(){return(Ne=e.__emscripten_call_on_thread=e.asm.ta).apply(null,arguments)},Me=e.__emscripten_thread_init=function(){return(Me=e.__emscripten_thread_init=e.asm.ua).apply(null,arguments)},Le=e._pthread_self=function(){return(Le=e._pthread_self=e.asm.va).apply(null,arguments)},He=e.___pthread_tsd_run_dtors=function(){return(He=e.___pthread_tsd_run_dtors=e.asm.wa).apply(null,arguments)},Be=e._emscripten_get_global_libc=function(){return(Be=e._emscripten_get_global_libc=e.asm.xa).apply(null,arguments)},Ve=e.stackSave=function(){return(Ve=e.stackSave=e.asm.ya).apply(null,arguments)},ze=e.stackRestore=function(){return(ze=e.stackRestore=e.asm.za).apply(null,arguments)},Ge=e.stackAlloc=function(){return(Ge=e.stackAlloc=e.asm.Aa).apply(null,arguments)},qe=e._emscripten_stack_set_limits=function(){return(qe=e._emscripten_stack_set_limits=e.asm.Ba).apply(null,arguments)},Ke=e._setThrew=function(){return(Ke=e._setThrew=e.asm.Ca).apply(null,arguments)},Qe=e._memalign=function(){return(Qe=e._memalign=e.asm.Da).apply(null,arguments)};e.dynCall_jiiiiiiiii=function(){return(e.dynCall_jiiiiiiiii=e.asm.Ea).apply(null,arguments)};var Xe=e.dynCall_ijiii=function(){return(Xe=e.dynCall_ijiii=e.asm.Fa).apply(null,arguments)};e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.Ga).apply(null,arguments)},e.dynCall_jiiiiiiii=function(){return(e.dynCall_jiiiiiiii=e.asm.Ha).apply(null,arguments)},e.dynCall_jiiiiii=function(){return(e.dynCall_jiiiiii=e.asm.Ia).apply(null,arguments)},e.dynCall_jiiiii=function(){return(e.dynCall_jiiiii=e.asm.Ja).apply(null,arguments)},e.dynCall_iiijii=function(){return(e.dynCall_iiijii=e.asm.Ka).apply(null,arguments)};var Ye,Ze=e.__emscripten_allow_main_runtime_queued_calls=600960,Je=e.__emscripten_main_thread_futex=897316;function rn(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}function en(r){if(!(tr>0)){if(y)return s(e),nr(),void postMessage({cmd:"loaded"});!function(){if(!y){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)r=e.preRun.shift(),J.unshift(r);var r;lr(J)}}(),tr>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n())}function n(){Ye||(Ye=!0,e.calledRun=!0,D||(nr(),s(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(!y){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)r=e.postRun.shift(),er.unshift(r);var r;lr(er)}}()))}}if(e.PThread=vr,e.PThread=vr,e.wasmMemory=k,e.ExitStatus=rn,or=function r(){Ye||en(),Ye||(or=r)},e.run=en,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return y&&(P=!1,vr.initWorker()),en(),e.ready}}(),R=Object.freeze({__proto__:null,default:S}),j=function(){var r=import.meta.url;return function(e){var n,t;(e=void 0!==(e=e||{})?e:{}).ready=new Promise((function(r,e){n=r,t=e}));var o,a={};for(o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);var i=!1,u=!1;i="object"==typeof window,u="function"==typeof importScripts,"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var c,s="";(i||u)&&(u?s=self.location.href:"undefined"!=typeof document&&document.currentScript&&(s=document.currentScript.src),r&&(s=r),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",u&&(c=function(r){var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var f=e.print||console.log.bind(console),l=e.printErr||console.warn.bind(console);for(o in a)a.hasOwnProperty(o)&&(e[o]=a[o]);a=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var d,p,h=0;e.wasmBinary&&(d=e.wasmBinary),e.noExitRuntime,"object"!=typeof WebAssembly&&M("no native wasm support detected");var v,m,g,y,w,b,_,E,T,A,C=!1;function k(r,e,n){for(var t=e+n,o="";!(e>=t);){var a=r[e++];if(!a)return o;if(128&a){var i=63&r[e++];if(192!=(224&a)){var u=63&r[e++];if((a=224==(240&a)?(15&a)<<12|i<<6|u:(7&a)<<18|i<<12|u<<6|63&r[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o}function $(r,e){return r?k(g,r,e):""}function P(r,e){for(var n="",t=0;!(t>=e/2);++t){var o=y[r+2*t>>1];if(0==o)break;n+=String.fromCharCode(o)}return n}function W(r,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var t=e,o=(n-=2)<2*r.length?n/2:r.length,a=0;a<o;++a){var i=r.charCodeAt(a);y[e>>1]=i,e+=2}return y[e>>1]=0,e-t}function S(r){return 2*r.length}function R(r,e){for(var n=0,t="";!(n>=e/4);){var o=b[r+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;t+=String.fromCharCode(55296|a>>10,56320|1023&a)}else t+=String.fromCharCode(o)}return t}function j(r,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var t=e,o=t+n-4,a=0;a<r.length;++a){var i=r.charCodeAt(a);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&r.charCodeAt(++a);if(b[e>>2]=i,(e+=4)+4>o)break}return b[e>>2]=0,e-t}function O(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&++n,e+=4}return e}function I(r){v=r,e.HEAP8=m=new Int8Array(r),e.HEAP16=y=new Int16Array(r),e.HEAP32=b=new Int32Array(r),e.HEAPU8=g=new Uint8Array(r),e.HEAPU16=w=new Uint16Array(r),e.HEAPU32=_=new Uint32Array(r),e.HEAPF32=E=new Float32Array(r),e.HEAPF64=T=new Float64Array(r)}e.INITIAL_MEMORY;var F=[],x=[],U=[];var D=0,N=null;function M(r){e.onAbort&&e.onAbort(r),l(r+=""),C=!0,r="abort("+r+"). Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(r);throw t(n),n}e.preloadedImages={},e.preloadedAudios={};var L,H="data:application/octet-stream;base64,";function B(r){return r.startsWith(H)}if(e.locateFile)B(V="avif_enc.wasm")||(L=V,V=e.locateFile?e.locateFile(L,s):s+L);else var V=new URL("avif_enc.wasm",import.meta.url).toString();function z(r){try{if(r==V&&d)return new Uint8Array(d);if(c)return c(r);throw"both async and sync fetching of the wasm failed"}catch(r){M(r)}}function G(r){for(;r.length>0;){var n=r.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?A.get(t)():A.get(t)(n.arg):t(void 0===n.arg?null:n.arg)}else n(e)}}var q={mappings:{},buffers:[null,[],[]],printChar:function(r,e){var n=q.buffers[r];0===e||10===e?((1===r?f:l)(k(n,0)),n.length=0):n.push(e)},varargs:void 0,get:function(){return q.varargs+=4,b[q.varargs-4>>2]},getStr:function(r){return $(r)},get64:function(r,e){return r}};var K={};function Q(r){for(;r.length;){var e=r.pop();r.pop()(e)}}function X(r){return this.fromWireType(_[r>>2])}var Y={},Z={},J={},rr=48,er=57;function nr(r,e){return r=function(r){if(void 0===r)return"_unknown";var e=(r=r.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=rr&&e<=er?"_"+r:r}(r),function(){return e.apply(this,arguments)}}function tr(r,e){var n=nr(e,(function(r){this.name=e,this.message=r;var n=new Error(r).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var or=void 0;function ar(r){throw new or(r)}function ir(r,e,n){function t(e){var t=n(e);t.length!==r.length&&ar("Mismatched type converter count");for(var o=0;o<r.length;++o)dr(r[o],t[o])}r.forEach((function(r){J[r]=e}));var o=new Array(e.length),a=[],i=0;e.forEach((function(r,e){Z.hasOwnProperty(r)?o[e]=Z[r]:(a.push(r),Y.hasOwnProperty(r)||(Y[r]=[]),Y[r].push((function(){o[e]=Z[r],++i===a.length&&t(o)})))})),0===a.length&&t(o)}function ur(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}var cr=void 0;function sr(r){for(var e="",n=r;g[n];)e+=cr[g[n++]];return e}var fr=void 0;function lr(r){throw new fr(r)}function dr(r,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=e.name;if(r||lr('type "'+t+'" must have a positive integer typeid pointer'),Z.hasOwnProperty(r)){if(n.ignoreDuplicateRegistrations)return;lr("Cannot register type '"+t+"' twice")}if(Z[r]=e,delete J[r],Y.hasOwnProperty(r)){var o=Y[r];delete Y[r],o.forEach((function(r){r()}))}}var pr=[],hr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function vr(r){r>4&&0==--hr[r].refcount&&(hr[r]=void 0,pr.push(r))}function mr(){for(var r=0,e=5;e<hr.length;++e)void 0!==hr[e]&&++r;return r}function gr(){for(var r=5;r<hr.length;++r)if(void 0!==hr[r])return hr[r];return null}function yr(r){switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=pr.length?pr.pop():hr.length;return hr[e]={refcount:1,value:r},e}}function wr(r){if(null===r)return"null";var e=typeof r;return"object"===e||"array"===e||"function"===e?r.toString():""+r}function br(r,e){switch(e){case 2:return function(r){return this.fromWireType(E[r>>2])};case 3:return function(r){return this.fromWireType(T[r>>3])};default:throw new TypeError("Unknown float type: "+r)}}function _r(r,n,t){e.hasOwnProperty(r)?((void 0===t||void 0!==e[r].overloadTable&&void 0!==e[r].overloadTable[t])&&lr("Cannot register public name '"+r+"' twice"),function(r,e,n){if(void 0===r[e].overloadTable){var t=r[e];r[e]=function(){return r[e].overloadTable.hasOwnProperty(arguments.length)||lr("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[e].overloadTable+")!"),r[e].overloadTable[arguments.length].apply(this,arguments)},r[e].overloadTable=[],r[e].overloadTable[t.argCount]=t}}(e,r,r),e.hasOwnProperty(t)&&lr("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),e[r].overloadTable[t]=n):(e[r]=n,void 0!==t&&(e[r].numArguments=t))}function Er(r,n,t){return r.includes("j")?function(r,n,t){var o=e["dynCall_"+r];return t&&t.length?o.apply(null,[n].concat(t)):o.call(null,n)}(r,n,t):A.get(n).apply(null,t)}function Tr(r,e){var n,t,o,a=(r=sr(r)).includes("j")?(n=r,t=e,o=[],function(){o.length=arguments.length;for(var r=0;r<arguments.length;r++)o[r]=arguments[r];return Er(n,t,o)}):A.get(e);return"function"!=typeof a&&lr("unknown function pointer with signature "+r+": "+e),a}var Ar=void 0;function Cr(r){var e=Ir(r),n=sr(e);return Or(e),n}function kr(r,e,n){switch(e){case 0:return n?function(r){return m[r]}:function(r){return g[r]};case 1:return n?function(r){return y[r>>1]}:function(r){return w[r>>1]};case 2:return n?function(r){return b[r>>2]}:function(r){return _[r>>2]};default:throw new TypeError("Unknown integer type: "+r)}}var $r={};function Pr(){if("object"==typeof globalThis)return globalThis;function r(r){r.$$$embind_global$$$=r;var e="object"==typeof $$$embind_global$$$&&r.$$$embind_global$$$===r;return e||delete r.$$$embind_global$$$,e}if("object"==typeof $$$embind_global$$$)return $$$embind_global$$$;if("object"==typeof global&&r(global)?$$$embind_global$$$=global:"object"==typeof self&&r(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$)return $$$embind_global$$$;throw Error("unable to get global object.")}var Wr={};function Sr(r){try{return p.grow(r-v.byteLength+65535>>>16),I(p.buffer),1}catch(r){}}or=e.InternalError=tr(Error,"InternalError"),function(){for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);cr=r}(),fr=e.BindingError=tr(Error,"BindingError"),e.count_emval_handles=mr,e.get_first_emval=gr,Ar=e.UnboundTypeError=tr(Error,"UnboundTypeError");var Rr={O:function(r,e){},s:function(r,e,n){return q.varargs=n,0},G:function(r,e,n){return q.varargs=n,0},H:function(r,e,n){q.varargs=n},x:function(r){var e=K[r];delete K[r];var n=e.rawConstructor,t=e.rawDestructor,o=e.fields;ir([r],o.map((function(r){return r.getterReturnType})).concat(o.map((function(r){return r.setterArgumentType}))),(function(r){var a={};return o.forEach((function(e,n){var t=e.fieldName,i=r[n],u=e.getter,c=e.getterContext,s=r[n+o.length],f=e.setter,l=e.setterContext;a[t]={read:function(r){return i.fromWireType(u(c,r))},write:function(r,e){var n=[];f(l,r,s.toWireType(n,e)),Q(n)}}})),[{name:e.name,fromWireType:function(r){var e={};for(var n in a)e[n]=a[n].read(r);return t(r),e},toWireType:function(r,e){for(var o in a)if(!(o in e))throw new TypeError('Missing field:  "'+o+'"');var i=n();for(o in a)a[o].write(i,e[o]);return null!==r&&r.push(t,i),i},argPackAdvance:8,readValueFromPointer:X,destructorFunction:t}]}))},B:function(r,e,n,t,o){},K:function(r,e,n,t,o){var a=ur(n);dr(r,{name:e=sr(e),fromWireType:function(r){return!!r},toWireType:function(r,e){return e?t:o},argPackAdvance:8,readValueFromPointer:function(r){var t;if(1===n)t=m;else if(2===n)t=y;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);t=b}return this.fromWireType(t[r>>a])},destructorFunction:null})},J:function(r,e){dr(r,{name:e=sr(e),fromWireType:function(r){var e=hr[r].value;return vr(r),e},toWireType:function(r,e){return yr(e)},argPackAdvance:8,readValueFromPointer:X,destructorFunction:null})},t:function(r,e,n){var t=ur(n);dr(r,{name:e=sr(e),fromWireType:function(r){return r},toWireType:function(r,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+wr(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:br(e,t),destructorFunction:null})},w:function(r,n,t,o,a,i){var u=function(r,e){for(var n=[],t=0;t<r;t++)n.push(b[(e>>2)+t]);return n}(n,t);r=sr(r),a=Tr(o,a),_r(r,(function(){!function(r,e){var n=[],t={};throw e.forEach((function r(e){t[e]||Z[e]||(J[e]?J[e].forEach(r):(n.push(e),t[e]=!0))})),new Ar(r+": "+n.map(Cr).join([", "]))}("Cannot call "+r+" due to unbound types",u)}),n-1),ir([],u,(function(t){var o=[t[0],null].concat(t.slice(1));return function(r,n,t){e.hasOwnProperty(r)||ar("Replacing nonexistant public symbol"),void 0!==e[r].overloadTable&&void 0!==t?e[r].overloadTable[t]=n:(e[r]=n,e[r].argCount=t)}(r,function(r,e,n,t,o){var a=e.length;a<2&&lr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==e[1]&&null!==n,u=!1,c=1;c<e.length;++c)if(null!==e[c]&&void 0===e[c].destructorFunction){u=!0;break}var s="void"!==e[0].name,f=a-2,l=new Array(f),d=[],p=[];return function(){var n;arguments.length!==f&&lr("function "+r+" called with "+arguments.length+" arguments, expected "+f+" args!"),p.length=0,d.length=i?2:1,d[0]=o,i&&(n=e[1].toWireType(p,this),d[1]=n);for(var a=0;a<f;++a)l[a]=e[a+2].toWireType(p,arguments[a]),d.push(l[a]);var c=t.apply(null,d);if(u)Q(p);else for(a=i?1:2;a<e.length;a++){var h=1===a?n:l[a-2];null!==e[a].destructorFunction&&e[a].destructorFunction(h)}if(s)return e[0].fromWireType(c)}}(r,o,null,a,i),n-1),[]}))},i:function(r,e,n,t,o){e=sr(e),-1===o&&(o=4294967295);var a=ur(n),i=function(r){return r};if(0===t){var u=32-8*n;i=function(r){return r<<u>>>u}}var c=e.includes("unsigned");dr(r,{name:e,fromWireType:i,toWireType:function(r,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+wr(n)+'" to '+this.name);if(n<t||n>o)throw new TypeError('Passing a number "'+wr(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+t+", "+o+"]!");return c?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:kr(e,a,0!==t),destructorFunction:null})},e:function(r,e,n){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(r){var e=_,n=e[r>>=2],o=e[r+1];return new t(v,o,n)}dr(r,{name:n=sr(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},u:function(r,e){var n="std::string"===(e=sr(e));dr(r,{name:e,fromWireType:function(r){var e,t=_[r>>2];if(n)for(var o=r+4,a=0;a<=t;++a){var i=r+4+a;if(a==t||0==g[i]){var u=$(o,i-o);void 0===e?e=u:(e+=String.fromCharCode(0),e+=u),o=i+1}}else{var c=new Array(t);for(a=0;a<t;++a)c[a]=String.fromCharCode(g[r+4+a]);e=c.join("")}return Or(r),e},toWireType:function(r,e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||lr("Cannot pass non-string to std::string"),t=n&&o?function(){return function(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&r.charCodeAt(++n)),t<=127?++e:e+=t<=2047?2:t<=65535?3:4}return e}(e)}:function(){return e.length};var a=t(),i=jr(4+a+1);if(_[i>>2]=a,n&&o)(function(r,e,n,t){if(!(t>0))return 0;for(var o=n,a=n+t-1,i=0;i<r.length;++i){var u=r.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&r.charCodeAt(++i)),u<=127){if(n>=a)break;e[n++]=u}else if(u<=2047){if(n+1>=a)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=a)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=a)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}e[n]=0})(e,g,i+4,a+1);else if(o)for(var u=0;u<a;++u){var c=e.charCodeAt(u);c>255&&(Or(i),lr("String has UTF-16 code units that do not fit in 8 bits")),g[i+4+u]=c}else for(u=0;u<a;++u)g[i+4+u]=e[u];return null!==r&&r.push(Or,i),i},argPackAdvance:8,readValueFromPointer:X,destructorFunction:function(r){Or(r)}})},o:function(r,e,n){var t,o,a,i,u;n=sr(n),2===e?(t=P,o=W,i=S,a=function(){return w},u=1):4===e&&(t=R,o=j,i=O,a=function(){return _},u=2),dr(r,{name:n,fromWireType:function(r){for(var n,o=_[r>>2],i=a(),c=r+4,s=0;s<=o;++s){var f=r+4+s*e;if(s==o||0==i[f>>u]){var l=t(c,f-c);void 0===n?n=l:(n+=String.fromCharCode(0),n+=l),c=f+e}}return Or(r),n},toWireType:function(r,t){"string"!=typeof t&&lr("Cannot pass non-string to C++ string type "+n);var a=i(t),c=jr(4+a+e);return _[c>>2]=a>>u,o(t,c+4,a+e),null!==r&&r.push(Or,c),c},argPackAdvance:8,readValueFromPointer:X,destructorFunction:function(r){Or(r)}})},z:function(r,e,n,t,o,a){K[r]={name:sr(e),rawConstructor:Tr(n,t),rawDestructor:Tr(o,a),fields:[]}},g:function(r,e,n,t,o,a,i,u,c,s){K[r].fields.push({fieldName:sr(e),getterReturnType:n,getter:Tr(t,o),getterContext:a,setterArgumentType:i,setter:Tr(u,c),setterContext:s})},L:function(r,e){dr(r,{isVoid:!0,name:e=sr(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(r,e){}})},j:vr,N:function(r){return 0===r?yr(Pr()):(r=void 0===(n=$r[e=r])?sr(e):n,yr(Pr()[r]));var e,n},v:function(r){r>4&&(hr[r].refcount+=1)},D:function(r,e,n,t){r=function(r){return r||lr("Cannot use deleted val. handle = "+r),hr[r].value}(r);var o=Wr[e];return o||(o=function(r){var e=new Array(r+1);return function(n,t,o){e[0]=n;for(var a=0;a<r;++a){var i=(u=b[(t>>2)+a],c="parameter "+a,s=void 0,void 0===(s=Z[u])&&lr(c+" has unknown type "+Cr(u)),s);e[a+1]=i.readValueFromPointer(o),o+=i.argPackAdvance}var u,c,s;return yr(new(n.bind.apply(n,e)))}}(e),Wr[e]=o),o(r,n,t)},f:function(){M()},d:function(r,e){return function(r,e){throw Ur(r,e||1),"longjmp"}(r,e)},E:function(r,e,n){g.copyWithin(r,e,e+n)},n:function(r){var e,n,t=g.length,o=2147483648;if((r>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=t*(1+.2/a);if(i=Math.min(i,r+100663296),Sr(Math.min(o,((e=Math.max(r,i))%(n=65536)>0&&(e+=n-e%n),e))))return!0}return!1},r:function(r){return 0},F:function(r,e,n,t){var o=q.getStreamFromFD(r),a=q.doReadv(o,e,n);return b[t>>2]=a,0},A:function(r,e,n,t,o){},I:function(r,e,n,t){for(var o=0,a=0;a<n;a++){for(var i=b[e+8*a>>2],u=b[e+(8*a+4)>>2],c=0;c<u;c++)q.printChar(r,g[i+c]);o+=u}return b[t>>2]=o,0},b:function(){return h},l:function(r,e,n,t,o){var a=Fr();try{return A.get(r)(e,n,t,o)}catch(r){if(xr(a),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},p:function(r,e,n,t,o,a,i,u,c){var s=Fr();try{return A.get(r)(e,n,t,o,a,i,u,c)}catch(r){if(xr(s),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},q:function(r,e,n,t,o,a,i,u,c,s){var f=Fr();try{return A.get(r)(e,n,t,o,a,i,u,c,s)}catch(r){if(xr(f),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},C:function(r,e,n,t,o,a,i,u,c,s,f,l){var d=Fr();try{return A.get(r)(e,n,t,o,a,i,u,c,s,f,l)}catch(r){if(xr(d),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},y:function(r,e,n,t,o,a){var i=Fr();try{return Nr(r,e,n,t,o,a)}catch(r){if(xr(i),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},m:function(r,e){var n=Fr();try{A.get(r)(e)}catch(r){if(xr(n),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},h:function(r,e,n){var t=Fr();try{A.get(r)(e,n)}catch(r){if(xr(t),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},c:function(r,e,n,t,o){var a=Fr();try{A.get(r)(e,n,t,o)}catch(r){if(xr(a),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},k:function(r,e,n,t,o,a,i,u,c,s,f){var l=Fr();try{A.get(r)(e,n,t,o,a,i,u,c,s,f)}catch(r){if(xr(l),r!==r+0&&"longjmp"!==r)throw r;Ur(1,0)}},a:function(r){h=r},M:function(r){var e=Date.now()/1e3|0;return r&&(b[r>>2]=e),e}};!function(){var r={a:Rr};function n(r,n){var t,o=r.exports;e.asm=o,I((p=e.asm.P).buffer),A=e.asm.Y,t=e.asm.Q,x.unshift(t),function(r){if(D--,e.monitorRunDependencies&&e.monitorRunDependencies(D),0==D&&N){var n=N;N=null,n()}}()}function o(r){n(r.instance)}function a(e){return(d||!i&&!u||"function"!=typeof fetch?Promise.resolve().then((function(){return z(V)})):fetch(V,{credentials:"same-origin"}).then((function(r){if(!r.ok)throw"failed to load wasm binary file at '"+V+"'";return r.arrayBuffer()})).catch((function(){return z(V)}))).then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(r){l("failed to asynchronously prepare wasm: "+r),M(r)}))}if(D++,e.monitorRunDependencies&&e.monitorRunDependencies(D),e.instantiateWasm)try{return e.instantiateWasm(r,n)}catch(r){return l("Module.instantiateWasm callback failed with error: "+r),!1}(d||"function"!=typeof WebAssembly.instantiateStreaming||B(V)||"function"!=typeof fetch?a(o):fetch(V,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(o,(function(r){return l("wasm streaming compile failed: "+r),l("falling back to ArrayBuffer instantiation"),a(o)}))}))).catch(t)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.Q).apply(null,arguments)};var jr=e._malloc=function(){return(jr=e._malloc=e.asm.R).apply(null,arguments)},Or=e._free=function(){return(Or=e._free=e.asm.S).apply(null,arguments)},Ir=e.___getTypeName=function(){return(Ir=e.___getTypeName=e.asm.T).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.U).apply(null,arguments)};var Fr=e.stackSave=function(){return(Fr=e.stackSave=e.asm.V).apply(null,arguments)},xr=e.stackRestore=function(){return(xr=e.stackRestore=e.asm.W).apply(null,arguments)},Ur=e._setThrew=function(){return(Ur=e._setThrew=e.asm.X).apply(null,arguments)};e.dynCall_jiiiiiiiii=function(){return(e.dynCall_jiiiiiiiii=e.asm.Z).apply(null,arguments)};var Dr,Nr=e.dynCall_ijiii=function(){return(Nr=e.dynCall_ijiii=e.asm._).apply(null,arguments)};function Mr(r){function t(){Dr||(Dr=!0,e.calledRun=!0,C||(G(x),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)r=e.postRun.shift(),U.unshift(r);var r;G(U)}()))}D>0||(!function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)r=e.preRun.shift(),F.unshift(r);var r;G(F)}(),D>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t()))}if(e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.$).apply(null,arguments)},e.dynCall_jiiiiiiii=function(){return(e.dynCall_jiiiiiiii=e.asm.aa).apply(null,arguments)},e.dynCall_jiiiiii=function(){return(e.dynCall_jiiiiii=e.asm.ba).apply(null,arguments)},e.dynCall_jiiiii=function(){return(e.dynCall_jiiiii=e.asm.ca).apply(null,arguments)},e.dynCall_iiijii=function(){return(e.dynCall_iiijii=e.asm.da).apply(null,arguments)},N=function r(){Dr||Mr(),Dr||(N=r)},e.run=Mr,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Mr(),e.ready}}();const O=void 0!==globalThis.ServiceWorkerGlobalScope&&"undefined"!=typeof self&&globalThis.caches&&void 0!==globalThis.caches.default,I="object"==typeof process&&process.release&&"node"===process.release.name;(O||I)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(r,e,n){this.data=r,this.width=e,this.height=n}}),void 0===import.meta.url&&(import.meta.url="https://localhost"),"undefined"!=typeof self&&void 0===self.location&&(self.location={href:""}));var F=Object.freeze({__proto__:null,default:j}),x=(()=>{var r=import.meta.url;return function(e={}){var n,t;(e=void 0!==e?e:{}).ready=new Promise((function(r,e){n=r,t=e}));void 0!==globalThis.ServiceWorkerGlobalScope&&"undefined"!=typeof self&&void 0!==caches.default&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(r,e,n){this.data=r,this.width=e,this.height=n}}),void 0===import.meta.url&&(import.meta.url="https://localhost"),void 0===self.location&&(self.location={href:""}));var o=Object.assign({},e),a="object"==typeof window,i="function"==typeof importScripts;"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var u,c="";(a||i)&&(i?c=self.location.href:"undefined"!=typeof document&&document.currentScript&&(c=document.currentScript.src),r&&(c=r),c=0!==c.indexOf("blob:")?c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i&&(u=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),e.print||console.log.bind(console);var s,f,l=e.printErr||console.warn.bind(console);Object.assign(e,o),o=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&(s=e.wasmBinary),e.noExitRuntime,"object"!=typeof WebAssembly&&W("no native wasm support detected");var d,p,h,v,m,g,y,w,b,_=!1;function E(r,e){return r?function(r,e,n){for(var t=e+n,o="";!(e>=t);){var a=r[e++];if(!a)return o;if(128&a){var i=63&r[e++];if(192!=(224&a)){var u=63&r[e++];if((a=224==(240&a)?(15&a)<<12|i<<6|u:(7&a)<<18|i<<12|u<<6|63&r[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o}(p,r,e):""}function T(){var r=f.buffer;e.HEAP8=d=new Int8Array(r),e.HEAP16=h=new Int16Array(r),e.HEAP32=m=new Int32Array(r),e.HEAPU8=p=new Uint8Array(r),e.HEAPU16=v=new Uint16Array(r),e.HEAPU32=g=new Uint32Array(r),e.HEAPF32=y=new Float32Array(r),e.HEAPF64=w=new Float64Array(r)}var A=[],C=[],k=[];var $=0,P=null;function W(r){e.onAbort&&e.onAbort(r),l(r="Aborted("+r+")"),_=!0,r+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(r);throw t(n),n}var S,R,j="data:application/octet-stream;base64,";function O(r){return r.startsWith(j)}function I(r){try{if(r==S&&s)return new Uint8Array(s);if(u)return u(r);throw"both async and sync fetching of the wasm failed"}catch(r){W(r)}}function F(r,e,n){return function(r){return s||!a&&!i||"function"!=typeof fetch?Promise.resolve().then((function(){return I(r)})):fetch(r,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+r+"'";return e.arrayBuffer()})).catch((function(){return I(r)}))}(r).then((function(r){return WebAssembly.instantiate(r,e)})).then((function(r){return r})).then(n,(function(r){l("failed to asynchronously prepare wasm: "+r),W(r)}))}function x(r){for(;r.length>0;)r.shift()(e)}function U(r){this.excPtr=r,this.ptr=r-24,this.set_type=function(r){g[this.ptr+4>>2]=r},this.get_type=function(){return g[this.ptr+4>>2]},this.set_destructor=function(r){g[this.ptr+8>>2]=r},this.get_destructor=function(){return g[this.ptr+8>>2]},this.set_refcount=function(r){m[this.ptr>>2]=r},this.set_caught=function(r){r=r?1:0,d[this.ptr+12|0]=r},this.get_caught=function(){return 0!=d[this.ptr+12|0]},this.set_rethrown=function(r){r=r?1:0,d[this.ptr+13|0]=r},this.get_rethrown=function(){return 0!=d[this.ptr+13|0]},this.init=function(r,e){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var r=m[this.ptr>>2];m[this.ptr>>2]=r+1},this.release_ref=function(){var r=m[this.ptr>>2];return m[this.ptr>>2]=r-1,1===r},this.set_adjusted_ptr=function(r){g[this.ptr+16>>2]=r},this.get_adjusted_ptr=function(){return g[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Fr(this.get_type()))return g[this.excPtr>>2];var r=this.get_adjusted_ptr();return 0!==r?r:this.excPtr}}e.locateFile?O(S="webp_enc_simd.wasm")||(R=S,S=e.locateFile?e.locateFile(R,c):c+R):S=new URL("webp_enc_simd.wasm",import.meta.url).href;var D={};function N(r){for(;r.length;){var e=r.pop();r.pop()(e)}}function M(r){return this.fromWireType(m[r>>2])}var L={},H={},B={},V=48,z=57;function G(r,e){return r=function(r){if(void 0===r)return"_unknown";var e=(r=r.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=V&&e<=z?"_"+r:r}(r),{[r]:function(){return e.apply(this,arguments)}}[r]}function q(r,e){var n=G(e,(function(r){this.name=e,this.message=r;var n=new Error(r).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var K=void 0;function Q(r){throw new K(r)}function X(r,e,n){function t(e){var t=n(e);t.length!==r.length&&Q("Mismatched type converter count");for(var o=0;o<r.length;++o)nr(r[o],t[o])}r.forEach((function(r){B[r]=e}));var o=new Array(e.length),a=[],i=0;e.forEach(((r,e)=>{H.hasOwnProperty(r)?o[e]=H[r]:(a.push(r),L.hasOwnProperty(r)||(L[r]=[]),L[r].push((()=>{o[e]=H[r],++i===a.length&&t(o)})))})),0===a.length&&t(o)}function Y(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}var Z=void 0;function J(r){for(var e="",n=r;p[n];)e+=Z[p[n++]];return e}var rr=void 0;function er(r){throw new rr(r)}function nr(r,e,n={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=e.name;if(r||er('type "'+t+'" must have a positive integer typeid pointer'),H.hasOwnProperty(r)){if(n.ignoreDuplicateRegistrations)return;er("Cannot register type '"+t+"' twice")}if(H[r]=e,delete B[r],L.hasOwnProperty(r)){var o=L[r];delete L[r],o.forEach((r=>r()))}}var tr=[],or=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ar(r){r>4&&0==--or[r].refcount&&(or[r]=void 0,tr.push(r))}function ir(){for(var r=0,e=5;e<or.length;++e)void 0!==or[e]&&++r;return r}function ur(){for(var r=5;r<or.length;++r)if(void 0!==or[r])return or[r];return null}var cr={toValue:r=>(r||er("Cannot use deleted val. handle = "+r),or[r].value),toHandle:r=>{switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=tr.length?tr.pop():or.length;return or[e]={refcount:1,value:r},e}}};function sr(r,n,t){e.hasOwnProperty(r)?((void 0===t||void 0!==e[r].overloadTable&&void 0!==e[r].overloadTable[t])&&er("Cannot register public name '"+r+"' twice"),function(r,e,n){if(void 0===r[e].overloadTable){var t=r[e];r[e]=function(){return r[e].overloadTable.hasOwnProperty(arguments.length)||er("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[e].overloadTable+")!"),r[e].overloadTable[arguments.length].apply(this,arguments)},r[e].overloadTable=[],r[e].overloadTable[t.argCount]=t}}(e,r,r),e.hasOwnProperty(t)&&er("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),e[r].overloadTable[t]=n):(e[r]=n,void 0!==t&&(e[r].numArguments=t))}function fr(r,e,n){switch(e){case 0:return function(r){var e=n?d:p;return this.fromWireType(e[r])};case 1:return function(r){var e=n?h:v;return this.fromWireType(e[r>>1])};case 2:return function(r){var e=n?m:g;return this.fromWireType(e[r>>2])};default:throw new TypeError("Unknown integer type: "+r)}}function lr(r){var e=Or(r),n=J(e);return jr(e),n}function dr(r,e){var n=H[r];return void 0===n&&er(e+" has unknown type "+lr(r)),n}function pr(r,e){switch(e){case 2:return function(r){return this.fromWireType(y[r>>2])};case 3:return function(r){return this.fromWireType(w[r>>3])};default:throw new TypeError("Unknown float type: "+r)}}var hr=[];function vr(r){var e=hr[r];return e||(r>=hr.length&&(hr.length=r+1),hr[r]=e=b.get(r)),e}function mr(r,n,t){return r.includes("j")?function(r,n,t){var o=e["dynCall_"+r];return t&&t.length?o.apply(null,[n].concat(t)):o.call(null,n)}(r,n,t):vr(n).apply(null,t)}function gr(r,e){var n,t,o,a=(r=J(r)).includes("j")?(n=r,t=e,o=[],function(){return o.length=0,Object.assign(o,arguments),mr(n,t,o)}):vr(e);return"function"!=typeof a&&er("unknown function pointer with signature "+r+": "+e),a}var yr=void 0;function wr(r,e,n){switch(e){case 0:return n?function(r){return d[r]}:function(r){return p[r]};case 1:return n?function(r){return h[r>>1]}:function(r){return v[r>>1]};case 2:return n?function(r){return m[r>>2]}:function(r){return g[r>>2]};default:throw new TypeError("Unknown integer type: "+r)}}function br(r,e){for(var n="",t=0;!(t>=e/2);++t){var o=h[r+2*t>>1];if(0==o)break;n+=String.fromCharCode(o)}return n}function _r(r,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var t=e,o=(n-=2)<2*r.length?n/2:r.length,a=0;a<o;++a){var i=r.charCodeAt(a);h[e>>1]=i,e+=2}return h[e>>1]=0,e-t}function Er(r){return 2*r.length}function Tr(r,e){for(var n=0,t="";!(n>=e/4);){var o=m[r+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;t+=String.fromCharCode(55296|a>>10,56320|1023&a)}else t+=String.fromCharCode(o)}return t}function Ar(r,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var t=e,o=t+n-4,a=0;a<r.length;++a){var i=r.charCodeAt(a);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&r.charCodeAt(++a);if(m[e>>2]=i,(e+=4)+4>o)break}return m[e>>2]=0,e-t}function Cr(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&++n,e+=4}return e}var kr={};function $r(){if("object"==typeof globalThis)return globalThis;function r(r){r.$$$embind_global$$$=r;var e="object"==typeof $$$embind_global$$$&&r.$$$embind_global$$$==r;return e||delete r.$$$embind_global$$$,e}if("object"==typeof $$$embind_global$$$)return $$$embind_global$$$;if("object"==typeof global&&r(global)?$$$embind_global$$$=global:"object"==typeof self&&r(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$)return $$$embind_global$$$;throw Error("unable to get global object.")}var Pr={};function Wr(r){var e=f.buffer;try{return f.grow(r-e.byteLength+65535>>>16),T(),1}catch(r){}}K=e.InternalError=q(Error,"InternalError"),function(){for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);Z=r}(),rr=e.BindingError=q(Error,"BindingError"),e.count_emval_handles=ir,e.get_first_emval=ur,yr=e.UnboundTypeError=q(Error,"UnboundTypeError");var Sr={k:function(r,e,n){throw new U(r).init(e,n),r},m:function(r){var e=D[r];delete D[r];var n=e.rawConstructor,t=e.rawDestructor,o=e.fields;X([r],o.map((r=>r.getterReturnType)).concat(o.map((r=>r.setterArgumentType))),(r=>{var a={};return o.forEach(((e,n)=>{var t=e.fieldName,i=r[n],u=e.getter,c=e.getterContext,s=r[n+o.length],f=e.setter,l=e.setterContext;a[t]={read:r=>i.fromWireType(u(c,r)),write:(r,e)=>{var n=[];f(l,r,s.toWireType(n,e)),N(n)}}})),[{name:e.name,fromWireType:function(r){var e={};for(var n in a)e[n]=a[n].read(r);return t(r),e},toWireType:function(r,e){for(var o in a)if(!(o in e))throw new TypeError('Missing field:  "'+o+'"');var i=n();for(o in a)a[o].write(i,e[o]);return null!==r&&r.push(t,i),i},argPackAdvance:8,readValueFromPointer:M,destructorFunction:t}]}))},o:function(r,e,n,t,o){},t:function(r,e,n,t,o){var a=Y(n);nr(r,{name:e=J(e),fromWireType:function(r){return!!r},toWireType:function(r,e){return e?t:o},argPackAdvance:8,readValueFromPointer:function(r){var t;if(1===n)t=d;else if(2===n)t=h;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);t=m}return this.fromWireType(t[r>>a])},destructorFunction:null})},s:function(r,e){nr(r,{name:e=J(e),fromWireType:function(r){var e=cr.toValue(r);return ar(r),e},toWireType:function(r,e){return cr.toHandle(e)},argPackAdvance:8,readValueFromPointer:M,destructorFunction:null})},q:function(r,e,n,t){var o=Y(n);function a(){}e=J(e),a.values={},nr(r,{name:e,constructor:a,fromWireType:function(r){return this.constructor.values[r]},toWireType:function(r,e){return e.value},argPackAdvance:8,readValueFromPointer:fr(e,o,t),destructorFunction:null}),sr(e,a)},d:function(r,e,n){var t=dr(r,"enum");e=J(e);var o=t.constructor,a=Object.create(t.constructor.prototype,{value:{value:n},constructor:{value:G(t.name+"_"+e,(function(){}))}});o.values[n]=a,o[e]=a},h:function(r,e,n){var t=Y(n);nr(r,{name:e=J(e),fromWireType:function(r){return r},toWireType:function(r,e){return e},argPackAdvance:8,readValueFromPointer:pr(e,t),destructorFunction:null})},f:function(r,n,t,o,a,i,u){var c=function(r,e){for(var n=[],t=0;t<r;t++)n.push(g[e+4*t>>2]);return n}(n,t);r=J(r),a=gr(o,a),sr(r,(function(){!function(r,e){var n=[],t={};throw e.forEach((function r(e){t[e]||H[e]||(B[e]?B[e].forEach(r):(n.push(e),t[e]=!0))})),new yr(r+": "+n.map(lr).join([", "]))}("Cannot call "+r+" due to unbound types",c)}),n-1),X([],c,(function(t){var o=[t[0],null].concat(t.slice(1));return function(r,n,t){e.hasOwnProperty(r)||Q("Replacing nonexistant public symbol"),void 0!==e[r].overloadTable&&void 0!==t?e[r].overloadTable[t]=n:(e[r]=n,e[r].argCount=t)}(r,function(r,e,n,t,o,a){var i=e.length;i<2&&er("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=null!==e[1]&&null!==n,c=!1,s=1;s<e.length;++s)if(null!==e[s]&&void 0===e[s].destructorFunction){c=!0;break}var f="void"!==e[0].name,l=i-2,d=new Array(l),p=[],h=[];return function(){var n;arguments.length!==l&&er("function "+r+" called with "+arguments.length+" arguments, expected "+l+" args!"),h.length=0,p.length=u?2:1,p[0]=o,u&&(n=e[1].toWireType(h,this),p[1]=n);for(var a=0;a<l;++a)d[a]=e[a+2].toWireType(h,arguments[a]),p.push(d[a]);return function(r){if(c)N(h);else for(var t=u?1:2;t<e.length;t++){var o=1===t?n:d[t-2];null!==e[t].destructorFunction&&e[t].destructorFunction(o)}if(f)return e[0].fromWireType(r)}(t.apply(null,p))}}(r,o,null,a,i),n-1),[]}))},c:function(r,e,n,t,o){e=J(e);var a=Y(n),i=r=>r;if(0===t){var u=32-8*n;i=r=>r<<u>>>u}var c=e.includes("unsigned");nr(r,{name:e,fromWireType:i,toWireType:c?function(r,e){return this.name,e>>>0}:function(r,e){return this.name,e},argPackAdvance:8,readValueFromPointer:wr(e,a,0!==t),destructorFunction:null})},b:function(r,e,n){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(r){var e=g,n=e[r>>=2],o=e[r+1];return new t(e.buffer,o,n)}nr(r,{name:n=J(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},i:function(r,e){var n="std::string"===(e=J(e));nr(r,{name:e,fromWireType:function(r){var e,t=g[r>>2],o=r+4;if(n)for(var a=o,i=0;i<=t;++i){var u=o+i;if(i==t||0==p[u]){var c=E(a,u-a);void 0===e?e=c:(e+=String.fromCharCode(0),e+=c),a=u+1}}else{var s=new Array(t);for(i=0;i<t;++i)s[i]=String.fromCharCode(p[o+i]);e=s.join("")}return jr(r),e},toWireType:function(r,e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||er("Cannot pass non-string to std::string"),t=n&&o?function(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t<=127?e++:t<=2047?e+=2:t>=55296&&t<=57343?(e+=4,++n):e+=3}return e}(e):e.length;var a=Rr(4+t+1),i=a+4;if(g[a>>2]=t,n&&o)(function(r,e,n,t){if(!(t>0))return 0;for(var o=n,a=n+t-1,i=0;i<r.length;++i){var u=r.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&r.charCodeAt(++i)),u<=127){if(n>=a)break;e[n++]=u}else if(u<=2047){if(n+1>=a)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=a)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=a)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}e[n]=0})(e,p,i,t+1);else if(o)for(var u=0;u<t;++u){var c=e.charCodeAt(u);c>255&&(jr(i),er("String has UTF-16 code units that do not fit in 8 bits")),p[i+u]=c}else for(u=0;u<t;++u)p[i+u]=e[u];return null!==r&&r.push(jr,a),a},argPackAdvance:8,readValueFromPointer:M,destructorFunction:function(r){jr(r)}})},e:function(r,e,n){var t,o,a,i,u;n=J(n),2===e?(t=br,o=_r,i=Er,a=()=>v,u=1):4===e&&(t=Tr,o=Ar,i=Cr,a=()=>g,u=2),nr(r,{name:n,fromWireType:function(r){for(var n,o=g[r>>2],i=a(),c=r+4,s=0;s<=o;++s){var f=r+4+s*e;if(s==o||0==i[f>>u]){var l=t(c,f-c);void 0===n?n=l:(n+=String.fromCharCode(0),n+=l),c=f+e}}return jr(r),n},toWireType:function(r,t){"string"!=typeof t&&er("Cannot pass non-string to C++ string type "+n);var a=i(t),c=Rr(4+a+e);return g[c>>2]=a>>u,o(t,c+4,a+e),null!==r&&r.push(jr,c),c},argPackAdvance:8,readValueFromPointer:M,destructorFunction:function(r){jr(r)}})},n:function(r,e,n,t,o,a){D[r]={name:J(e),rawConstructor:gr(n,t),rawDestructor:gr(o,a),fields:[]}},a:function(r,e,n,t,o,a,i,u,c,s){D[r].fields.push({fieldName:J(e),getterReturnType:n,getter:gr(t,o),getterContext:a,setterArgumentType:i,setter:gr(u,c),setterContext:s})},u:function(r,e){nr(r,{isVoid:!0,name:e=J(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(r,e){}})},j:ar,w:function(r){return 0===r?cr.toHandle($r()):(r=void 0===(n=kr[e=r])?J(e):n,cr.toHandle($r()[r]));var e,n},l:function(r){r>4&&(or[r].refcount+=1)},v:function(r,e,n,t){r=cr.toValue(r);var o=Pr[e];return o||(o=function(r){var e=new Array(r+1);return function(n,t,o){e[0]=n;for(var a=0;a<r;++a){var i=dr(g[t+4*a>>2],"parameter "+a);e[a+1]=i.readValueFromPointer(o),o+=i.argPackAdvance}var u=new(n.bind.apply(n,e));return cr.toHandle(u)}}(e),Pr[e]=o),o(r,n,t)},g:function(){W("")},r:function(r,e,n){p.copyWithin(r,e,e+n)},p:function(r){var e,n,t=p.length,o=2147483648;if((r>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=t*(1+.2/a);if(i=Math.min(i,r+100663296),Wr(Math.min(o,(e=Math.max(r,i))+((n=65536)-e%n)%n)))return!0}return!1}};!function(){var r,n,o,a,i={a:Sr};function u(r,n){var t,o=r.exports;return e.asm=o,f=e.asm.x,T(),b=e.asm.D,t=e.asm.y,C.unshift(t),function(r){if($--,e.monitorRunDependencies&&e.monitorRunDependencies($),0==$&&P){var n=P;P=null,n()}}(),o}if($++,e.monitorRunDependencies&&e.monitorRunDependencies($),e.instantiateWasm)try{return e.instantiateWasm(i,u)}catch(r){l("Module.instantiateWasm callback failed with error: "+r),t(r)}(r=s,n=S,o=i,a=function(r){u(r.instance)},r||"function"!=typeof WebAssembly.instantiateStreaming||O(n)||"function"!=typeof fetch?F(n,o,a):fetch(n,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,o).then(a,(function(r){return l("wasm streaming compile failed: "+r),l("falling back to ArrayBuffer instantiation"),F(n,o,a)}))}))).catch(t)}();var Rr=function(){return(Rr=e.asm.z).apply(null,arguments)},jr=function(){return(jr=e.asm.A).apply(null,arguments)},Or=e.___getTypeName=function(){return(Or=e.___getTypeName=e.asm.B).apply(null,arguments)};e.__embind_initialize_bindings=function(){return(e.__embind_initialize_bindings=e.asm.C).apply(null,arguments)};var Ir,Fr=function(){return(Fr=e.asm.E).apply(null,arguments)};function xr(){function r(){Ir||(Ir=!0,e.calledRun=!0,_||(x(C),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)r=e.postRun.shift(),k.unshift(r);var r;x(k)}()))}$>0||(!function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)r=e.preRun.shift(),A.unshift(r);var r;x(A)}(),$>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),r()}),1)):r()))}if(e.dynCall_jiiii=function(){return(e.dynCall_jiiii=e.asm.F).apply(null,arguments)},P=function r(){Ir||xr(),Ir||(P=r)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return xr(),e.ready}})(),U=Object.freeze({__proto__:null,default:x}),D=(()=>{var r=import.meta.url;return function(e={}){var n,t;(e=void 0!==e?e:{}).ready=new Promise((function(r,e){n=r,t=e}));const o=void 0!==globalThis.ServiceWorkerGlobalScope&&"undefined"!=typeof self&&globalThis.caches&&void 0!==globalThis.caches.default,a="object"==typeof process&&process.release&&"node"===process.release.name;(o||a)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(r,e,n){this.data=r,this.width=e,this.height=n}}),void 0===import.meta.url&&(import.meta.url="https://localhost"),"undefined"!=typeof self&&void 0===self.location&&(self.location={href:""}));var i=Object.assign({},e),u="object"==typeof window,c="function"==typeof importScripts;"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var s,f="";(u||c)&&(c?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),r&&(f=r),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c&&(s=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),e.print||console.log.bind(console);var l,d,p=e.printErr||console.warn.bind(console);Object.assign(e,i),i=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&(l=e.wasmBinary),e.noExitRuntime,"object"!=typeof WebAssembly&&R("no native wasm support detected");var h,v,m,g,y,w,b,_,E,T=!1;function A(r,e){return r?function(r,e,n){for(var t=e+n,o="";!(e>=t);){var a=r[e++];if(!a)return o;if(128&a){var i=63&r[e++];if(192!=(224&a)){var u=63&r[e++];if((a=224==(240&a)?(15&a)<<12|i<<6|u:(7&a)<<18|i<<12|u<<6|63&r[e++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o}(v,r,e):""}function C(){var r=d.buffer;e.HEAP8=h=new Int8Array(r),e.HEAP16=m=new Int16Array(r),e.HEAP32=y=new Int32Array(r),e.HEAPU8=v=new Uint8Array(r),e.HEAPU16=g=new Uint16Array(r),e.HEAPU32=w=new Uint32Array(r),e.HEAPF32=b=new Float32Array(r),e.HEAPF64=_=new Float64Array(r)}var k=[],$=[],P=[];var W=0,S=null;function R(r){e.onAbort&&e.onAbort(r),p(r="Aborted("+r+")"),T=!0,r+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(r);throw t(n),n}var j,O,I="data:application/octet-stream;base64,";function F(r){return r.startsWith(I)}function x(r){try{if(r==j&&l)return new Uint8Array(l);if(s)return s(r);throw"both async and sync fetching of the wasm failed"}catch(r){R(r)}}function U(r,e,n){return function(r){return l||!u&&!c||"function"!=typeof fetch?Promise.resolve().then((function(){return x(r)})):fetch(r,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+r+"'";return e.arrayBuffer()})).catch((function(){return x(r)}))}(r).then((function(r){return WebAssembly.instantiate(r,e)})).then((function(r){return r})).then(n,(function(r){p("failed to asynchronously prepare wasm: "+r),R(r)}))}function D(r){for(;r.length>0;)r.shift()(e)}function N(r){this.excPtr=r,this.ptr=r-24,this.set_type=function(r){w[this.ptr+4>>2]=r},this.get_type=function(){return w[this.ptr+4>>2]},this.set_destructor=function(r){w[this.ptr+8>>2]=r},this.get_destructor=function(){return w[this.ptr+8>>2]},this.set_refcount=function(r){y[this.ptr>>2]=r},this.set_caught=function(r){r=r?1:0,h[this.ptr+12|0]=r},this.get_caught=function(){return 0!=h[this.ptr+12|0]},this.set_rethrown=function(r){r=r?1:0,h[this.ptr+13|0]=r},this.get_rethrown=function(){return 0!=h[this.ptr+13|0]},this.init=function(r,e){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var r=y[this.ptr>>2];y[this.ptr>>2]=r+1},this.release_ref=function(){var r=y[this.ptr>>2];return y[this.ptr>>2]=r-1,1===r},this.set_adjusted_ptr=function(r){w[this.ptr+16>>2]=r},this.get_adjusted_ptr=function(){return w[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Ur(this.get_type()))return w[this.excPtr>>2];var r=this.get_adjusted_ptr();return 0!==r?r:this.excPtr}}e.locateFile?F(j="webp_enc.wasm")||(O=j,j=e.locateFile?e.locateFile(O,f):f+O):j=new URL("webp_enc.wasm",import.meta.url).href;var M={};function L(r){for(;r.length;){var e=r.pop();r.pop()(e)}}function H(r){return this.fromWireType(y[r>>2])}var B={},V={},z={},G=48,q=57;function K(r,e){return r=function(r){if(void 0===r)return"_unknown";var e=(r=r.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=G&&e<=q?"_"+r:r}(r),{[r]:function(){return e.apply(this,arguments)}}[r]}function Q(r,e){var n=K(e,(function(r){this.name=e,this.message=r;var n=new Error(r).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var X=void 0;function Y(r){throw new X(r)}function Z(r,e,n){function t(e){var t=n(e);t.length!==r.length&&Y("Mismatched type converter count");for(var o=0;o<r.length;++o)or(r[o],t[o])}r.forEach((function(r){z[r]=e}));var o=new Array(e.length),a=[],i=0;e.forEach(((r,e)=>{V.hasOwnProperty(r)?o[e]=V[r]:(a.push(r),B.hasOwnProperty(r)||(B[r]=[]),B[r].push((()=>{o[e]=V[r],++i===a.length&&t(o)})))})),0===a.length&&t(o)}function J(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}var rr=void 0;function er(r){for(var e="",n=r;v[n];)e+=rr[v[n++]];return e}var nr=void 0;function tr(r){throw new nr(r)}function or(r,e,n={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=e.name;if(r||tr('type "'+t+'" must have a positive integer typeid pointer'),V.hasOwnProperty(r)){if(n.ignoreDuplicateRegistrations)return;tr("Cannot register type '"+t+"' twice")}if(V[r]=e,delete z[r],B.hasOwnProperty(r)){var o=B[r];delete B[r],o.forEach((r=>r()))}}var ar=[],ir=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ur(r){r>4&&0==--ir[r].refcount&&(ir[r]=void 0,ar.push(r))}function cr(){for(var r=0,e=5;e<ir.length;++e)void 0!==ir[e]&&++r;return r}function sr(){for(var r=5;r<ir.length;++r)if(void 0!==ir[r])return ir[r];return null}var fr={toValue:r=>(r||tr("Cannot use deleted val. handle = "+r),ir[r].value),toHandle:r=>{switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=ar.length?ar.pop():ir.length;return ir[e]={refcount:1,value:r},e}}};function lr(r,n,t){e.hasOwnProperty(r)?((void 0===t||void 0!==e[r].overloadTable&&void 0!==e[r].overloadTable[t])&&tr("Cannot register public name '"+r+"' twice"),function(r,e,n){if(void 0===r[e].overloadTable){var t=r[e];r[e]=function(){return r[e].overloadTable.hasOwnProperty(arguments.length)||tr("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[e].overloadTable+")!"),r[e].overloadTable[arguments.length].apply(this,arguments)},r[e].overloadTable=[],r[e].overloadTable[t.argCount]=t}}(e,r,r),e.hasOwnProperty(t)&&tr("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),e[r].overloadTable[t]=n):(e[r]=n,void 0!==t&&(e[r].numArguments=t))}function dr(r,e,n){switch(e){case 0:return function(r){var e=n?h:v;return this.fromWireType(e[r])};case 1:return function(r){var e=n?m:g;return this.fromWireType(e[r>>1])};case 2:return function(r){var e=n?y:w;return this.fromWireType(e[r>>2])};default:throw new TypeError("Unknown integer type: "+r)}}function pr(r){var e=Fr(r),n=er(e);return Ir(e),n}function hr(r,e){var n=V[r];return void 0===n&&tr(e+" has unknown type "+pr(r)),n}function vr(r,e){switch(e){case 2:return function(r){return this.fromWireType(b[r>>2])};case 3:return function(r){return this.fromWireType(_[r>>3])};default:throw new TypeError("Unknown float type: "+r)}}var mr=[];function gr(r){var e=mr[r];return e||(r>=mr.length&&(mr.length=r+1),mr[r]=e=E.get(r)),e}function yr(r,n,t){return r.includes("j")?function(r,n,t){var o=e["dynCall_"+r];return t&&t.length?o.apply(null,[n].concat(t)):o.call(null,n)}(r,n,t):gr(n).apply(null,t)}function wr(r,e){var n,t,o,a=(r=er(r)).includes("j")?(n=r,t=e,o=[],function(){return o.length=0,Object.assign(o,arguments),yr(n,t,o)}):gr(e);return"function"!=typeof a&&tr("unknown function pointer with signature "+r+": "+e),a}var br=void 0;function _r(r,e,n){switch(e){case 0:return n?function(r){return h[r]}:function(r){return v[r]};case 1:return n?function(r){return m[r>>1]}:function(r){return g[r>>1]};case 2:return n?function(r){return y[r>>2]}:function(r){return w[r>>2]};default:throw new TypeError("Unknown integer type: "+r)}}function Er(r,e){for(var n="",t=0;!(t>=e/2);++t){var o=m[r+2*t>>1];if(0==o)break;n+=String.fromCharCode(o)}return n}function Tr(r,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var t=e,o=(n-=2)<2*r.length?n/2:r.length,a=0;a<o;++a){var i=r.charCodeAt(a);m[e>>1]=i,e+=2}return m[e>>1]=0,e-t}function Ar(r){return 2*r.length}function Cr(r,e){for(var n=0,t="";!(n>=e/4);){var o=y[r+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;t+=String.fromCharCode(55296|a>>10,56320|1023&a)}else t+=String.fromCharCode(o)}return t}function kr(r,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var t=e,o=t+n-4,a=0;a<r.length;++a){var i=r.charCodeAt(a);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&r.charCodeAt(++a);if(y[e>>2]=i,(e+=4)+4>o)break}return y[e>>2]=0,e-t}function $r(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&++n,e+=4}return e}var Pr={};function Wr(){if("object"==typeof globalThis)return globalThis;function r(r){r.$$$embind_global$$$=r;var e="object"==typeof $$$embind_global$$$&&r.$$$embind_global$$$==r;return e||delete r.$$$embind_global$$$,e}if("object"==typeof $$$embind_global$$$)return $$$embind_global$$$;if("object"==typeof global&&r(global)?$$$embind_global$$$=global:"object"==typeof self&&r(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$)return $$$embind_global$$$;throw Error("unable to get global object.")}var Sr={};function Rr(r){var e=d.buffer;try{return d.grow(r-e.byteLength+65535>>>16),C(),1}catch(r){}}X=e.InternalError=Q(Error,"InternalError"),function(){for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);rr=r}(),nr=e.BindingError=Q(Error,"BindingError"),e.count_emval_handles=cr,e.get_first_emval=sr,br=e.UnboundTypeError=Q(Error,"UnboundTypeError");var jr={k:function(r,e,n){throw new N(r).init(e,n),r},m:function(r){var e=M[r];delete M[r];var n=e.rawConstructor,t=e.rawDestructor,o=e.fields;Z([r],o.map((r=>r.getterReturnType)).concat(o.map((r=>r.setterArgumentType))),(r=>{var a={};return o.forEach(((e,n)=>{var t=e.fieldName,i=r[n],u=e.getter,c=e.getterContext,s=r[n+o.length],f=e.setter,l=e.setterContext;a[t]={read:r=>i.fromWireType(u(c,r)),write:(r,e)=>{var n=[];f(l,r,s.toWireType(n,e)),L(n)}}})),[{name:e.name,fromWireType:function(r){var e={};for(var n in a)e[n]=a[n].read(r);return t(r),e},toWireType:function(r,e){for(var o in a)if(!(o in e))throw new TypeError('Missing field:  "'+o+'"');var i=n();for(o in a)a[o].write(i,e[o]);return null!==r&&r.push(t,i),i},argPackAdvance:8,readValueFromPointer:H,destructorFunction:t}]}))},o:function(r,e,n,t,o){},t:function(r,e,n,t,o){var a=J(n);or(r,{name:e=er(e),fromWireType:function(r){return!!r},toWireType:function(r,e){return e?t:o},argPackAdvance:8,readValueFromPointer:function(r){var t;if(1===n)t=h;else if(2===n)t=m;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);t=y}return this.fromWireType(t[r>>a])},destructorFunction:null})},s:function(r,e){or(r,{name:e=er(e),fromWireType:function(r){var e=fr.toValue(r);return ur(r),e},toWireType:function(r,e){return fr.toHandle(e)},argPackAdvance:8,readValueFromPointer:H,destructorFunction:null})},q:function(r,e,n,t){var o=J(n);function a(){}e=er(e),a.values={},or(r,{name:e,constructor:a,fromWireType:function(r){return this.constructor.values[r]},toWireType:function(r,e){return e.value},argPackAdvance:8,readValueFromPointer:dr(e,o,t),destructorFunction:null}),lr(e,a)},d:function(r,e,n){var t=hr(r,"enum");e=er(e);var o=t.constructor,a=Object.create(t.constructor.prototype,{value:{value:n},constructor:{value:K(t.name+"_"+e,(function(){}))}});o.values[n]=a,o[e]=a},h:function(r,e,n){var t=J(n);or(r,{name:e=er(e),fromWireType:function(r){return r},toWireType:function(r,e){return e},argPackAdvance:8,readValueFromPointer:vr(e,t),destructorFunction:null})},f:function(r,n,t,o,a,i,u){var c=function(r,e){for(var n=[],t=0;t<r;t++)n.push(w[e+4*t>>2]);return n}(n,t);r=er(r),a=wr(o,a),lr(r,(function(){!function(r,e){var n=[],t={};throw e.forEach((function r(e){t[e]||V[e]||(z[e]?z[e].forEach(r):(n.push(e),t[e]=!0))})),new br(r+": "+n.map(pr).join([", "]))}("Cannot call "+r+" due to unbound types",c)}),n-1),Z([],c,(function(t){var o=[t[0],null].concat(t.slice(1));return function(r,n,t){e.hasOwnProperty(r)||Y("Replacing nonexistant public symbol"),void 0!==e[r].overloadTable&&void 0!==t?e[r].overloadTable[t]=n:(e[r]=n,e[r].argCount=t)}(r,function(r,e,n,t,o,a){var i=e.length;i<2&&tr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=null!==e[1]&&null!==n,c=!1,s=1;s<e.length;++s)if(null!==e[s]&&void 0===e[s].destructorFunction){c=!0;break}var f="void"!==e[0].name,l=i-2,d=new Array(l),p=[],h=[];return function(){var n;arguments.length!==l&&tr("function "+r+" called with "+arguments.length+" arguments, expected "+l+" args!"),h.length=0,p.length=u?2:1,p[0]=o,u&&(n=e[1].toWireType(h,this),p[1]=n);for(var a=0;a<l;++a)d[a]=e[a+2].toWireType(h,arguments[a]),p.push(d[a]);return function(r){if(c)L(h);else for(var t=u?1:2;t<e.length;t++){var o=1===t?n:d[t-2];null!==e[t].destructorFunction&&e[t].destructorFunction(o)}if(f)return e[0].fromWireType(r)}(t.apply(null,p))}}(r,o,null,a,i),n-1),[]}))},c:function(r,e,n,t,o){e=er(e);var a=J(n),i=r=>r;if(0===t){var u=32-8*n;i=r=>r<<u>>>u}var c=e.includes("unsigned");or(r,{name:e,fromWireType:i,toWireType:c?function(r,e){return this.name,e>>>0}:function(r,e){return this.name,e},argPackAdvance:8,readValueFromPointer:_r(e,a,0!==t),destructorFunction:null})},b:function(r,e,n){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(r){var e=w,n=e[r>>=2],o=e[r+1];return new t(e.buffer,o,n)}or(r,{name:n=er(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},i:function(r,e){var n="std::string"===(e=er(e));or(r,{name:e,fromWireType:function(r){var e,t=w[r>>2],o=r+4;if(n)for(var a=o,i=0;i<=t;++i){var u=o+i;if(i==t||0==v[u]){var c=A(a,u-a);void 0===e?e=c:(e+=String.fromCharCode(0),e+=c),a=u+1}}else{var s=new Array(t);for(i=0;i<t;++i)s[i]=String.fromCharCode(v[o+i]);e=s.join("")}return Ir(r),e},toWireType:function(r,e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||tr("Cannot pass non-string to std::string"),t=n&&o?function(r){for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t<=127?e++:t<=2047?e+=2:t>=55296&&t<=57343?(e+=4,++n):e+=3}return e}(e):e.length;var a=Or(4+t+1),i=a+4;if(w[a>>2]=t,n&&o)(function(r,e,n,t){if(!(t>0))return 0;for(var o=n,a=n+t-1,i=0;i<r.length;++i){var u=r.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&r.charCodeAt(++i)),u<=127){if(n>=a)break;e[n++]=u}else if(u<=2047){if(n+1>=a)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=a)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=a)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}e[n]=0})(e,v,i,t+1);else if(o)for(var u=0;u<t;++u){var c=e.charCodeAt(u);c>255&&(Ir(i),tr("String has UTF-16 code units that do not fit in 8 bits")),v[i+u]=c}else for(u=0;u<t;++u)v[i+u]=e[u];return null!==r&&r.push(Ir,a),a},argPackAdvance:8,readValueFromPointer:H,destructorFunction:function(r){Ir(r)}})},e:function(r,e,n){var t,o,a,i,u;n=er(n),2===e?(t=Er,o=Tr,i=Ar,a=()=>g,u=1):4===e&&(t=Cr,o=kr,i=$r,a=()=>w,u=2),or(r,{name:n,fromWireType:function(r){for(var n,o=w[r>>2],i=a(),c=r+4,s=0;s<=o;++s){var f=r+4+s*e;if(s==o||0==i[f>>u]){var l=t(c,f-c);void 0===n?n=l:(n+=String.fromCharCode(0),n+=l),c=f+e}}return Ir(r),n},toWireType:function(r,t){"string"!=typeof t&&tr("Cannot pass non-string to C++ string type "+n);var a=i(t),c=Or(4+a+e);return w[c>>2]=a>>u,o(t,c+4,a+e),null!==r&&r.push(Ir,c),c},argPackAdvance:8,readValueFromPointer:H,destructorFunction:function(r){Ir(r)}})},n:function(r,e,n,t,o,a){M[r]={name:er(e),rawConstructor:wr(n,t),rawDestructor:wr(o,a),fields:[]}},a:function(r,e,n,t,o,a,i,u,c,s){M[r].fields.push({fieldName:er(e),getterReturnType:n,getter:wr(t,o),getterContext:a,setterArgumentType:i,setter:wr(u,c),setterContext:s})},u:function(r,e){or(r,{isVoid:!0,name:e=er(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(r,e){}})},j:ur,w:function(r){return 0===r?fr.toHandle(Wr()):(r=void 0===(n=Pr[e=r])?er(e):n,fr.toHandle(Wr()[r]));var e,n},l:function(r){r>4&&(ir[r].refcount+=1)},v:function(r,e,n,t){r=fr.toValue(r);var o=Sr[e];return o||(o=function(r){var e=new Array(r+1);return function(n,t,o){e[0]=n;for(var a=0;a<r;++a){var i=hr(w[t+4*a>>2],"parameter "+a);e[a+1]=i.readValueFromPointer(o),o+=i.argPackAdvance}var u=new(n.bind.apply(n,e));return fr.toHandle(u)}}(e),Sr[e]=o),o(r,n,t)},g:function(){R("")},r:function(r,e,n){v.copyWithin(r,e,e+n)},p:function(r){var e,n,t=v.length,o=2147483648;if((r>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=t*(1+.2/a);if(i=Math.min(i,r+100663296),Rr(Math.min(o,(e=Math.max(r,i))+((n=65536)-e%n)%n)))return!0}return!1}};!function(){var r,n,o,a,i={a:jr};function u(r,n){var t,o=r.exports;return e.asm=o,d=e.asm.x,C(),E=e.asm.D,t=e.asm.y,$.unshift(t),function(r){if(W--,e.monitorRunDependencies&&e.monitorRunDependencies(W),0==W&&S){var n=S;S=null,n()}}(),o}if(W++,e.monitorRunDependencies&&e.monitorRunDependencies(W),e.instantiateWasm)try{return e.instantiateWasm(i,u)}catch(r){p("Module.instantiateWasm callback failed with error: "+r),t(r)}(r=l,n=j,o=i,a=function(r){u(r.instance)},r||"function"!=typeof WebAssembly.instantiateStreaming||F(n)||"function"!=typeof fetch?U(n,o,a):fetch(n,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,o).then(a,(function(r){return p("wasm streaming compile failed: "+r),p("falling back to ArrayBuffer instantiation"),U(n,o,a)}))}))).catch(t)}();var Or=function(){return(Or=e.asm.z).apply(null,arguments)},Ir=function(){return(Ir=e.asm.A).apply(null,arguments)},Fr=e.___getTypeName=function(){return(Fr=e.___getTypeName=e.asm.B).apply(null,arguments)};e.__embind_initialize_bindings=function(){return(e.__embind_initialize_bindings=e.asm.C).apply(null,arguments)};var xr,Ur=function(){return(Ur=e.asm.E).apply(null,arguments)};function Dr(){function r(){xr||(xr=!0,e.calledRun=!0,T||(D($),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)r=e.postRun.shift(),P.unshift(r);var r;D(P)}()))}W>0||(!function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)r=e.preRun.shift(),k.unshift(r);var r;D(k)}(),W>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),r()}),1)):r()))}if(S=function r(){xr||Dr(),xr||(S=r)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Dr(),e.ready}})(),N=Object.freeze({__proto__:null,default:D});export{n as PictureFormat,W as PictureOperator};
